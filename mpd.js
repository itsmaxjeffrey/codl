(()=>{var e={42:(e,t)=>{"use strict";function n(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var r=n({HTML:"text/html",isHTML:function(e){return e===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=n({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];if(t.call(void 0,i,r,e))return i}},t.freeze=n,t.MIME_TYPE=r,t.NAMESPACE=i},289:(e,t,n)=>{var r=n(42),i=n(990),a=n(128),o=n(394),s=i.DOMImplementation,u=r.NAMESPACE,c=o.ParseError,l=o.XMLReader;function p(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function d(e){this.options=e||{locator:{}}}function f(){this.cdata=!1}function m(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function h(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function g(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}d.prototype.parseFromString=function(e,t){var n=this.options,r=new l,i=n.domBuilder||new f,o=n.errorHandler,s=n.locator,c=n.xmlns||{},d=/\/x?html?$/.test(t),m=d?a.HTML_ENTITIES:a.XML_ENTITIES;s&&i.setDocumentLocator(s),r.errorHandler=function(e,t,n){if(!e){if(t instanceof f)return t;e=t}var r={},i=e instanceof Function;function a(t){var a=e[t];!a&&i&&(a=2==e.length?function(n){e(t,n)}:e),r[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+function(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(o,i,s),r.domBuilder=n.domBuilder||i,d&&(c[""]=u.HTML),c.xml=c.xml||u.XML;var h=n.normalizeLineEndings||p;return e&&"string"==typeof e?r.parse(h(e),c,m):r.errorHandler.error("invalid doc source"),i.doc},f.prototype={startDocument:function(){this.doc=(new s).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var i=this.doc,a=i.createElementNS(e,n||t),o=r.length;g(this,a),this.currentElement=a,this.locator&&m(this.locator,a);for(var s=0;s<o;s++){e=r.getURI(s);var u=r.getValue(s),c=(n=r.getQName(s),i.createAttributeNS(e,n));this.locator&&m(r.getLocator(s),c),c.value=c.nodeValue=u,a.setAttributeNode(c)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&m(this.locator,n),g(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=h.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&m(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=h.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&m(this.locator,r),g(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var i=r.createDocumentType(e,t,n);this.locator&&m(this.locator,i),g(this,i),this.doc.doctype=i}},warning:function(e){},error:function(e){},fatalError:function(e){throw new c(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){f.prototype[e]=function(){return null}})),t.DOMParser=d},990:(e,t,n)=>{var r=n(42),i=r.find,a=r.NAMESPACE;function o(e){return""!==e}function s(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function u(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(o):[]}(e);return Object.keys(t.reduce(s,{}))}function c(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function l(e,t){var n=e.prototype;if(!(n instanceof t)){function r(){}r.prototype=t.prototype,c(n,r=new r),e.prototype=n=r}n.constructor!=e&&(n.constructor=e)}var p={},d=p.ELEMENT_NODE=1,f=p.ATTRIBUTE_NODE=2,m=p.TEXT_NODE=3,h=p.CDATA_SECTION_NODE=4,g=p.ENTITY_REFERENCE_NODE=5,v=p.ENTITY_NODE=6,y=p.PROCESSING_INSTRUCTION_NODE=7,b=p.COMMENT_NODE=8,w=p.DOCUMENT_NODE=9,E=p.DOCUMENT_TYPE_NODE=10,N=p.DOCUMENT_FRAGMENT_NODE=11,x=p.NOTATION_NODE=12,T={},S={},D=(T.INDEX_SIZE_ERR=(S[1]="Index size error",1),T.DOMSTRING_SIZE_ERR=(S[2]="DOMString size error",2),T.HIERARCHY_REQUEST_ERR=(S[3]="Hierarchy request error",3)),O=(T.WRONG_DOCUMENT_ERR=(S[4]="Wrong document",4),T.INVALID_CHARACTER_ERR=(S[5]="Invalid character",5),T.NO_DATA_ALLOWED_ERR=(S[6]="No data allowed",6),T.NO_MODIFICATION_ALLOWED_ERR=(S[7]="No modification allowed",7),T.NOT_FOUND_ERR=(S[8]="Not found",8)),I=(T.NOT_SUPPORTED_ERR=(S[9]="Not supported",9),T.INUSE_ATTRIBUTE_ERR=(S[10]="Attribute in use",10));T.INVALID_STATE_ERR=(S[11]="Invalid state",11),T.SYNTAX_ERR=(S[12]="Syntax error",12),T.INVALID_MODIFICATION_ERR=(S[13]="Invalid modification",13),T.NAMESPACE_ERR=(S[14]="Invalid namespace",14),T.INVALID_ACCESS_ERR=(S[15]="Invalid access",15);function A(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,S[e]),this.message=S[e],Error.captureStackTrace&&Error.captureStackTrace(this,A);return n.code=e,t&&(this.message=this.message+": "+t),n}function _(){}function L(e,t){this._node=e,this._refresh=t,R(this)}function R(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var n=e._refresh(e._node);be(e,"length",n.length),c(n,e),e._inc=t}}function M(){}function C(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function U(e,t,n,r){if(r?t[C(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&$(i,e,r),function(e,t,n){e&&e._inc++;var r=n.namespaceURI;r===a.XMLNS&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(i,e,n))}}function P(e,t,n){var r=C(t,n);if(!(r>=0))throw new A(O,new Error(e.tagName+"@"+n));for(var i=t.length-1;r<i;)t[r]=t[++r];if(t.length=i,e){var a=e.ownerDocument;a&&($(a,e,n),n.ownerElement=null)}}function k(){}function z(){}function F(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function j(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(j(e,t))return!0}while(e=e.nextSibling)}function B(){this.ownerDocument=this}function $(e,t,n,r){e&&e._inc++,n.namespaceURI===a.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function G(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,a=0;i;)r[a++]=i,i=i.nextSibling;r.length=a,delete r[r.length]}}}function q(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,G(e.ownerDocument,e),t}function X(e){return e&&e.nodeType===z.DOCUMENT_TYPE_NODE}function H(e){return e&&e.nodeType===z.ELEMENT_NODE}function V(e){return e&&e.nodeType===z.TEXT_NODE}function Z(e,t){var n=e.childNodes||[];if(i(n,H)||X(t))return!1;var r=i(n,X);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function W(e,t){var n=e.childNodes||[];if(i(n,(function(e){return H(e)&&e!==t})))return!1;var r=i(n,X);return!(t&&r&&n.indexOf(r)>n.indexOf(t))}function Y(e,t,n){if(!function(e){return e&&(e.nodeType===z.DOCUMENT_NODE||e.nodeType===z.DOCUMENT_FRAGMENT_NODE||e.nodeType===z.ELEMENT_NODE)}(e))throw new A(D,"Unexpected parent node type "+e.nodeType);if(n&&n.parentNode!==e)throw new A(O,"child not in parent");if(!function(e){return e&&(H(e)||V(e)||X(e)||e.nodeType===z.DOCUMENT_FRAGMENT_NODE||e.nodeType===z.COMMENT_NODE||e.nodeType===z.PROCESSING_INSTRUCTION_NODE)}(t)||X(t)&&e.nodeType!==z.DOCUMENT_NODE)throw new A(D,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function K(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===z.DOCUMENT_FRAGMENT_NODE){var o=a.filter(H);if(o.length>1||i(a,V))throw new A(D,"More than one element or text in fragment");if(1===o.length&&!Z(e,n))throw new A(D,"Element in fragment can not be inserted before doctype")}if(H(t)&&!Z(e,n))throw new A(D,"Only one element can be added and only after doctype");if(X(t)){if(i(r,X))throw new A(D,"Only one doctype is allowed");var s=i(r,H);if(n&&r.indexOf(s)<r.indexOf(n))throw new A(D,"Doctype can only be inserted before an element");if(!n&&s)throw new A(D,"Doctype can not be appended since element is present")}}function Q(e,t,n){var r=e.childNodes||[],a=t.childNodes||[];if(t.nodeType===z.DOCUMENT_FRAGMENT_NODE){var o=a.filter(H);if(o.length>1||i(a,V))throw new A(D,"More than one element or text in fragment");if(1===o.length&&!W(e,n))throw new A(D,"Element in fragment can not be inserted before doctype")}if(H(t)&&!W(e,n))throw new A(D,"Only one element can be added and only after doctype");if(X(t)){if(i(r,(function(e){return X(e)&&e!==n})))throw new A(D,"Only one doctype is allowed");var s=i(r,H);if(n&&r.indexOf(s)<r.indexOf(n))throw new A(D,"Doctype can only be inserted before an element")}}function J(e,t,n,r){Y(e,t,n),e.nodeType===z.DOCUMENT_NODE&&(r||K)(e,t,n);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===N){var a=t.firstChild;if(null==a)return t;var o=t.lastChild}else a=o=t;var s=n?n.previousSibling:e.lastChild;a.previousSibling=s,o.nextSibling=n,s?s.nextSibling=a:e.firstChild=a,null==n?e.lastChild=o:n.previousSibling=o;do{a.parentNode=e}while(a!==o&&(a=a.nextSibling));return G(e.ownerDocument||e,e),t.nodeType==N&&(t.firstChild=t.lastChild=null),t}function ee(){this._nsMap={}}function te(){}function ne(){}function re(){}function ie(){}function ae(){}function oe(){}function se(){}function ue(){}function ce(){}function le(){}function pe(){}function de(){}function fe(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,i=r.prefix,a=r.namespaceURI;if(a&&null==i&&null==(i=r.lookupPrefix(a)))var o=[{namespace:a,prefix:null}];return ge(this,n,e,t,o),n.join("")}function me(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!i)return!1;if("xml"===r&&i===a.XML||i===a.XMLNS)return!1;for(var o=n.length;o--;){var s=n[o];if(s.prefix===r)return s.namespace!==i}return!0}function he(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,F),'"')}function ge(e,t,n,r,i){if(i||(i=[]),r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case d:var o=e.attributes,s=o.length,u=e.firstChild,c=e.tagName,l=c;if(!(n=a.isHTML(e.namespaceURI)||n)&&!e.prefix&&e.namespaceURI){for(var p,v=0;v<o.length;v++)if("xmlns"===o.item(v).name){p=o.item(v).value;break}if(!p)for(var x=i.length-1;x>=0;x--){if(""===(T=i[x]).prefix&&T.namespace===e.namespaceURI){p=T.namespace;break}}if(p!==e.namespaceURI)for(x=i.length-1;x>=0;x--){var T;if((T=i[x]).namespace===e.namespaceURI){T.prefix&&(l=T.prefix+":"+c);break}}}t.push("<",l);for(var S=0;S<s;S++){"xmlns"==(D=o.item(S)).prefix?i.push({prefix:D.localName,namespace:D.value}):"xmlns"==D.nodeName&&i.push({prefix:"",namespace:D.value})}for(S=0;S<s;S++){var D,O,I;if(me(D=o.item(S),0,i))he(t,(O=D.prefix||"")?"xmlns:"+O:"xmlns",I=D.namespaceURI),i.push({prefix:O,namespace:I});ge(D,t,n,r,i)}if(c===l&&me(e,0,i))he(t,(O=e.prefix||"")?"xmlns:"+O:"xmlns",I=e.namespaceURI),i.push({prefix:O,namespace:I});if(u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(c)){if(t.push(">"),n&&/^script$/i.test(c))for(;u;)u.data?t.push(u.data):ge(u,t,n,r,i.slice()),u=u.nextSibling;else for(;u;)ge(u,t,n,r,i.slice()),u=u.nextSibling;t.push("</",l,">")}else t.push("/>");return;case w:case N:for(u=e.firstChild;u;)ge(u,t,n,r,i.slice()),u=u.nextSibling;return;case f:return he(t,e.name,e.value);case m:return t.push(e.data.replace(/[<&>]/g,F));case h:return t.push("<![CDATA[",e.data,"]]>");case b:return t.push("\x3c!--",e.data,"--\x3e");case E:var A=e.publicId,_=e.systemId;if(t.push("<!DOCTYPE ",e.name),A)t.push(" PUBLIC ",A),_&&"."!=_&&t.push(" ",_),t.push(">");else if(_&&"."!=_)t.push(" SYSTEM ",_,">");else{var L=e.internalSubset;L&&t.push(" [",L,"]"),t.push(">")}return;case y:return t.push("<?",e.target," ",e.data,"?>");case g:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ve(e,t,n){var r;switch(t.nodeType){case d:(r=t.cloneNode(!1)).ownerDocument=e;case N:break;case f:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(ve(e,i,n)),i=i.nextSibling;return r}function ye(e,t,n){var r=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new _),r.ownerDocument=e,r.nodeType){case d:var o=t.attributes,s=r.attributes=new M,u=o.length;s._ownerElement=r;for(var c=0;c<u;c++)r.setAttributeNode(ye(e,o.item(c),!0));break;case f:n=!0}if(n)for(var l=t.firstChild;l;)r.appendChild(ye(e,l,n)),l=l.nextSibling;return r}function be(e,t,n){e[t]=n}A.prototype=Error.prototype,c(T,A),_.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)ge(this[r],n,e,t);return n.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},L.prototype.item=function(e){return R(this),this[e]},l(L,_),M.prototype={length:0,item:_.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new A(I);var n=this.getNamedItem(e.nodeName);return U(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new A(I);return t=this.getNamedItemNS(e.namespaceURI,e.localName),U(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return P(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return P(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},k.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=new B;if(r.implementation=this,r.childNodes=new _,r.doctype=n||null,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new oe;return r.name=e,r.nodeName=e,r.publicId=t||"",r.systemId=n||"",r}},z.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return J(this,e,t)},replaceChild:function(e,t){J(this,e,t,Q),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return ye(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==m&&e.nodeType==m?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)&&n[r]===e)return r;t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,e))return n[e];t=t.nodeType==f?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},c(p,z),c(p,z.prototype),B.prototype={nodeName:"#document",nodeType:w,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==N){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return J(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===d&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},replaceChild:function(e,t){J(this,e,t,Q),e.ownerDocument=this,t&&this.removeChild(t),H(e)&&(this.documentElement=e)},importNode:function(e,t){return ve(this,e,t)},getElementById:function(e){var t=null;return j(this.documentElement,(function(n){if(n.nodeType==d&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=u(e);return new L(this,(function(n){var r=[];return t.length>0&&j(n.documentElement,(function(i){if(i!==n&&i.nodeType===d){var a=i.getAttribute("class");if(a){var o=e===a;if(!o){var s=u(a);o=t.every((c=s,function(e){return c&&-1!==c.indexOf(e)}))}o&&r.push(i)}}var c})),r}))},createElement:function(e){var t=new ee;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new _,(t.attributes=new M)._ownerElement=t,t},createDocumentFragment:function(){var e=new le;return e.ownerDocument=this,e.childNodes=new _,e},createTextNode:function(e){var t=new re;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new ie;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new ae;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new pe;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new te;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new ce;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new ee,r=t.split(":"),i=n.attributes=new M;return n.childNodes=new _,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new te,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},l(B,z),ee.prototype={nodeType:d,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===N?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,G(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new L(this,(function(t){var n=[];return j(t,(function(r){r===t||r.nodeType!=d||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new L(this,(function(n){var r=[];return j(n,(function(i){i===n||i.nodeType!==d||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)})),r}))}},B.prototype.getElementsByTagName=ee.prototype.getElementsByTagName,B.prototype.getElementsByTagNameNS=ee.prototype.getElementsByTagNameNS,l(ee,z),te.prototype.nodeType=f,l(te,z),ne.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(S[D])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},l(ne,z),re.prototype={nodeName:"#text",nodeType:m,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},l(re,ne),ie.prototype={nodeName:"#comment",nodeType:b},l(ie,ne),ae.prototype={nodeName:"#cdata-section",nodeType:h},l(ae,ne),oe.prototype.nodeType=E,l(oe,z),se.prototype.nodeType=x,l(se,z),ue.prototype.nodeType=v,l(ue,z),ce.prototype.nodeType=g,l(ce,z),le.prototype.nodeName="#document-fragment",le.prototype.nodeType=N,l(le,z),pe.prototype.nodeType=y,l(pe,z),de.prototype.serializeToString=function(e,t,n){return fe.call(e,t,n)},z.prototype.toString=fe;try{if(Object.defineProperty){function we(e){switch(e.nodeType){case d:case N:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(we(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(L.prototype,"length",{get:function(){return R(this),this.$$length}}),Object.defineProperty(z.prototype,"textContent",{get:function(){return we(this)},set:function(e){switch(this.nodeType){case d:case N:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),be=function(e,t,n){e["$$"+t]=n}}}catch(Ee){}t.DocumentType=oe,t.DOMException=A,t.DOMImplementation=k,t.Element=ee,t.Node=z,t.NodeList=_,t.XMLSerializer=de},128:(e,t,n)=>{var r=n(42).freeze;t.XML_ENTITIES=r({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=r({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}),t.entityMap=t.HTML_ENTITIES},954:(e,t,n)=>{var r=n(990);r.DOMImplementation,r.XMLSerializer,t.DOMParser=n(289).DOMParser},394:(e,t,n)=>{var r=n(42).NAMESPACE,i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,a=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+i.source+a.source+"*(?::"+i.source+a.source+"*)?$"),s=0,u=1,c=2,l=3,p=4,d=5,f=6,m=7;function h(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,h)}function g(){}function v(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function y(e,t,n,i,a,o){function h(e,t,r){n.attributeNames.hasOwnProperty(e)&&o.fatalError("Attribute "+e+" redefined"),n.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,a),r)}for(var g,v=++t,y=s;;){var b=e.charAt(v);switch(b){case"=":if(y===u)g=e.slice(t,v),y=l;else{if(y!==c)throw new Error("attribute equal must after attrName");y=l}break;case"'":case'"':if(y===l||y===u){if(y===u&&(o.warning('attribute value must after "="'),g=e.slice(t,v)),t=v+1,!((v=e.indexOf(b,t))>0))throw new Error("attribute value no end '"+b+"' match");h(g,w=e.slice(t,v),t-1),y=d}else{if(y!=p)throw new Error('attribute value must after "="');h(g,w=e.slice(t,v),t),o.warning('attribute "'+g+'" missed start quot('+b+")!!"),t=v+1,y=d}break;case"/":switch(y){case s:n.setTagName(e.slice(t,v));case d:case f:case m:y=m,n.closed=!0;case p:case u:break;case c:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),y==s&&n.setTagName(e.slice(t,v)),v;case">":switch(y){case s:n.setTagName(e.slice(t,v));case d:case f:case m:break;case p:case u:"/"===(w=e.slice(t,v)).slice(-1)&&(n.closed=!0,w=w.slice(0,-1));case c:y===c&&(w=g),y==p?(o.warning('attribute "'+w+'" missed quot(")!'),h(g,w,t)):(r.isHTML(i[""])&&w.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+w+'" missed value!! "'+w+'" instead!!'),h(w,w,t));break;case l:throw new Error("attribute value missed!!")}return v;case"":b=" ";default:if(b<=" ")switch(y){case s:n.setTagName(e.slice(t,v)),y=f;break;case u:g=e.slice(t,v),y=c;break;case p:var w=e.slice(t,v);o.warning('attribute "'+w+'" missed quot(")!!'),h(g,w,t);case d:y=f}else switch(y){case c:n.tagName;r.isHTML(i[""])&&g.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+g+'" missed value!! "'+g+'" instead2!!'),h(g,g,t),t=v,y=u;break;case d:o.warning('attribute space is required"'+g+'"!!');case f:y=u,t=v;break;case l:y=p,t=v;break;case m:throw new Error("elements closed character '/' and '>' must be connected to")}}v++}}function b(e,t,n){for(var i=e.tagName,a=null,o=e.length;o--;){var s=e[o],u=s.qName,c=s.value;if((f=u.indexOf(":"))>0)var l=s.prefix=u.slice(0,f),p=u.slice(f+1),d="xmlns"===l&&p;else p=u,l=null,d="xmlns"===u&&"";s.localName=p,!1!==d&&(null==a&&(a={},N(n,n={})),n[d]=a[d]=c,s.uri=r.XMLNS,t.startPrefixMapping(d,c))}for(o=e.length;o--;){(l=(s=e[o]).prefix)&&("xml"===l&&(s.uri=r.XML),"xmlns"!==l&&(s.uri=n[l||""]))}var f;(f=i.indexOf(":"))>0?(l=e.prefix=i.slice(0,f),p=e.localName=i.slice(f+1)):(l=null,p=e.localName=i);var m=e.uri=n[l||""];if(t.startElement(m,p,i,e),!e.closed)return e.currentNSMap=n,e.localNSMap=a,!0;if(t.endElement(m,p,i),a)for(l in a)Object.prototype.hasOwnProperty.call(a,l)&&t.endPrefixMapping(l)}function w(e,t,n,r,i){if(/^(?:script|textarea)$/i.test(n)){var a=e.indexOf("</"+n+">",t),o=e.substring(t+1,a);if(/[&<]/.test(o))return/^script$/i.test(n)?(i.characters(o,0,o.length),a):(o=o.replace(/&#?\w+;/g,r),i.characters(o,0,o.length),a)}return t+1}function E(e,t,n,r){var i=r[n];return null==i&&((i=e.lastIndexOf("</"+n+">"))<t&&(i=e.lastIndexOf("</"+n)),r[n]=i),i<t}function N(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}function x(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(i=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,i-t-4),i+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var i=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,i-t-9),n.endCDATA(),i+3}var a=function(e,t){var n,r=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;i.lastIndex=t,i.exec(e);for(;n=i.exec(e);)if(r.push(n),n[1])return r}(e,t),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var s=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var l=a[o-1];return n.startDTD(s,u,c),n.endDTD(),l.index+l[0].length}return-1}function T(e,t,n){var r=e.indexOf("?>",t);if(r){var i=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){i[0].length;return n.processingInstruction(i[1],i[2]),r+2}return-1}return-1}function S(){this.attributeNames={}}h.prototype=new Error,h.prototype.name=h.name,g.prototype={parse:function(e,t,n){var i=this.domBuilder;i.startDocument(),N(t,t={}),function(e,t,n,i,a){function o(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(n,t)?n[t]:"#"===t.charAt(0)?o(parseInt(t.substr(1).replace("x","0x"))):(a.error("entity not found:"+e),e)}function u(t){if(t>N){var n=e.substring(N,t).replace(/&#?\w+;/g,s);f&&c(N),i.characters(n,0,t-N),N=t}}function c(t,n){for(;t>=p&&(n=d.exec(e));)l=n.index,p=l+n[0].length,f.lineNumber++;f.columnNumber=t-l+1}var l=0,p=0,d=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,m=[{currentNSMap:t}],g={},N=0;for(;;){try{var D=e.indexOf("<",N);if(D<0){if(!e.substr(N).match(/^\s*$/)){var O=i.doc,I=O.createTextNode(e.substr(N));O.appendChild(I),i.currentElement=I}return}switch(D>N&&u(D),e.charAt(D+1)){case"/":var A=e.indexOf(">",D+3),_=e.substring(D+2,A).replace(/[ \t\n\r]+$/g,""),L=m.pop();A<0?(_=e.substring(D+2).replace(/[\s<].*/,""),a.error("end tag name: "+_+" is not complete:"+L.tagName),A=D+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),a.error("end tag name: "+_+" maybe not complete"),A=D+1+_.length);var R=L.localNSMap,M=L.tagName==_;if(M||L.tagName&&L.tagName.toLowerCase()==_.toLowerCase()){if(i.endElement(L.uri,L.localName,_),R)for(var C in R)Object.prototype.hasOwnProperty.call(R,C)&&i.endPrefixMapping(C);M||a.fatalError("end tag name: "+_+" is not match the current start tagName:"+L.tagName)}else m.push(L);A++;break;case"?":f&&c(D),A=T(e,D,i);break;case"!":f&&c(D),A=x(e,D,i,a);break;default:f&&c(D);var U=new S,P=m[m.length-1].currentNSMap,k=(A=y(e,D,U,P,s,a),U.length);if(!U.closed&&E(e,A,U.tagName,g)&&(U.closed=!0,n.nbsp||a.warning("unclosed xml attribute")),f&&k){for(var z=v(f,{}),F=0;F<k;F++){var j=U[F];c(j.offset),j.locator=v(f,{})}i.locator=z,b(U,i,P)&&m.push(U),i.locator=f}else b(U,i,P)&&m.push(U);r.isHTML(U.uri)&&!U.closed?A=w(e,A,U.tagName,s,i):A++}}catch(e){if(e instanceof h)throw e;a.error("element parse error: "+e),A=-1}A>N?N=A:u(Math.max(D,N)+1)}}(e,t,n,i,this.errorHandler),i.endDocument()}},S.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=g,t.ParseError=h},500:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(809),i=n(649);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={initSyncComplete:!1,initLocalComplete:!1};if(s.blackList=new Set,s.requestHeaders=new Map,s.customFoundUrls=new Map,chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e[0]&&e[0].id?s.tabId=e[0].id:s.tabId=-1})),s.OptionLists={Ext:[{ext:"flv",size:0,state:!0},{ext:"hlv",size:0,state:!0},{ext:"f4v",size:0,state:!0},{ext:"mp4",size:0,state:!0},{ext:"mp3",size:0,state:!0},{ext:"wma",size:0,state:!0},{ext:"wav",size:0,state:!0},{ext:"m4a",size:0,state:!0},{ext:"letv",size:0,state:!0},{ext:"ts",size:0,state:!1},{ext:"webm",size:0,state:!0},{ext:"ogg",size:0,state:!0},{ext:"ogv",size:0,state:!0},{ext:"acc",size:0,state:!0},{ext:"mov",size:0,state:!0},{ext:"mkv",size:0,state:!0},{ext:"m4s",size:0,state:!1},{ext:"m3u8",size:0,state:!0},{ext:"m3u",size:0,state:!0},{ext:"mpeg",size:0,state:!0},{ext:"avi",size:0,state:!0},{ext:"wmv",size:0,state:!0},{ext:"asf",size:0,state:!0},{ext:"movie",size:0,state:!0},{ext:"divx",size:0,state:!0},{ext:"mpeg4",size:0,state:!0},{ext:"vid",size:0,state:!0},{ext:"aac",size:0,state:!0},{ext:"mpd",size:0,state:!0}],Type:[{type:"audio/*",size:0,state:!0},{type:"video/*",size:0,state:!0},{type:"application/ogg",size:0,state:!0},{type:"application/vnd.apple.mpegurl",size:0,state:!0},{type:"application/x-mpegurl",size:0,state:!0},{type:"application/mpegurl",size:0,state:!0},{type:"application/octet-stream-m3u8",size:0,state:!0},{type:"application/dash+xml",size:0,state:!0},{type:"application/m4s",size:0,state:!0}],Regex:[{type:"ig",regex:"https://cache\\.video\\.[a-z]*\\.com/dash\\?tvid=.*",ext:"json",state:!1},{type:"ig",regex:".*\\.bilivideo\\.(com|cn).*\\/live-bvc\\/.*m4s",ext:"",blackList:!0,state:!1}],TitleName:!0,Player:"",MobileUserAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1",playbackRate:2,autoClearMode:2,userAgent:"",checkDuplicates:!0,enable:!0,BlockedDomains:null,popListCount:30,ShowCountOnIcon:!0},s.LocalVar={featMobileTabId:[],mediaControl:{tabid:0,index:-1}},s.isFirefox=!1,s.version=93,navigator.userAgent.includes("Chrome/")){var u=navigator.userAgent.match(/Chrome\/([\d]+)/);u&&u[1]&&(s.version=parseInt(u[1]))}else navigator.userAgent.includes("Firefox/")&&(s.isFirefox=!0);s.scriptList=new Map,s.scriptList.set("deepsearch.js",{key:"deepsearch",refresh:!0,allFrames:!0,world:"MAIN",name:"DeepSearch",off:"Close Search",tabId:new Set}),s.scriptList.set("screenrecorder.js",{key:"screenrecorder",refresh:!1,allFrames:!1,world:"ISOLATED",name:"ScreenRecorder",off:"Close Screen Recorder",tabId:new Set}),s.scriptList.set("webrtc.js",{key:"webrtc",refresh:!0,allFrames:!0,world:"MAIN",name:"Webrtc",off:"Close Webrtc",tabId:new Set});function c(){chrome.storage.local.get({MediaData:{}},(function(e){e.MediaData.init?{}:e.MediaData})),chrome.storage.sync.get(s.OptionLists,(function(e){chrome.runtime.lastError&&(e=s.OptionLists),e.Ext=new Map(e.Ext.map((function(e){return[e.ext,e]}))),e.Type=new Map(e.Type.map((function(e){return[e.type,{size:e.size,state:e.state}]}))),e.Regex=e.Regex.map((function(e){var t=void 0;try{t=new RegExp(e.regex,e.type)}catch(t){e.state=!1}return{regex:t,ext:e.ext,blackList:e.blackList,state:e.state}})),(s=o({},e,{},s)).popListCount||(s.popListCount=30),s.TitleName||(s.TitleName=!0),s.ShowCountOnIcon||(s.ShowCountOnIcon=!0);var t={path:s.enable?"assets/icons/64x64.png":"assets/icons/64x64_gray.png"};s.isFirefox?browser.browserAction&&browser.browserAction.setIcon(t):chrome.action&&chrome.action.setIcon(t),s.initSyncComplete=!0})),chrome.storage.local.get(s.LocalVar,(function(e){e.featMobileTabId=new Set(e.featMobileTabId),(s=o({},e,{},s)).initLocalComplete=!0}))}c(),chrome.storage.onChanged.addListener((function(e,t){var n;if(e.MediaData)null!==(n=e.MediaData.newValue)&&void 0!==n&&n.init&&{};else for(var i=0,a=Object.entries(e);i<a.length;i++){var o=(0,r.Z)(a[i],2),u=o[0],c=o[1],l=(c.oldValue,c.newValue);l??=s.OptionLists[u],"Ext"!=u?"Type"!=u?"Regex"!=u?s[u]="featMobileTabId"!=u?l:new Set(l):s.Regex=l.map((function(e){var t=void 0;try{t=new RegExp(e.regex,e.type)}catch(t){e.state=!1}return{regex:t,ext:e.ext,blackList:e.blackList,state:e.state}})):s.Type=new Map(l.map((function(e){return[e.type,{size:e.size,state:e.state}]}))):s.Ext=new Map(l.map((function(e){return[e.ext,e]})))}})),chrome.runtime.onInstalled&&chrome.runtime.onInstalled.addListener((function(e){"update"==e.reason&&(chrome.storage.local.clear((function(){c()})),chrome.alarms.create("nowClear",{when:Date.now()+3e3}))}))},634:(e,t,n)=>{var r;r="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},e.exports=r},842:()=>{},925:function(e){var t,n,r,i,a;t=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,i=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return r.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(c.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var l=s.path,p=l.substring(0,l.lastIndexOf("/")+1)+o.path;c.path=a.normalizePath(p)}else c.path=s.path,o.params||(c.params=s.params,o.query||(c.query=s.query));return null===c.path&&(c.path=r.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(c)},parseURL:function(e){var n=t.exec(e);return n?{scheme:n[1]||"",netLoc:n[2]||"",path:n[3]||"",params:n[4]||"",query:n[5]||"",fragment:n[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(i,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=a},337:(e,t,n)=>{var r=n(501).default;function i(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new I(r||[]);return o(a,"_invoke",{value:T(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var m={};function h(){}function g(){}function v(){}var y={};p(y,u,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&a.call(w,u)&&(y=w);var E=v.prototype=h.prototype=Object.create(y);function N(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(i,o,s,u){var c=f(e[i],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==r(p)&&a.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(p).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}})}function T(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return _()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=f(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function D(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(D,this),this.reset(!0)}function A(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:_}}function _(){return{value:void 0,done:!0}}return g.prototype=v,o(E,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:g,configurable:!0}),g.displayName=p(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,p(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},N(x.prototype),p(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new x(d(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},N(E),p(E,l,"Generator"),p(E,u,(function(){return this})),p(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},501:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},824:(e,t,n)=>{var r=n(337)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},793:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:()=>r})},649:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(217);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(13);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(940);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},940:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})},13:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(793);function i(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(824),t=n.n(e);function r(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var o=e.apply(t,n);function s(e){r(o,i,a,s,u,"next",e)}function u(e){r(o,i,a,s,u,"throw",e)}s(void 0)}))}}n(842);var a=n(925),o=n.n(a),s=n(634),u=n.n(s),c="http://example.com";const l=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=u().location&&u().location.href||"");var n="function"==typeof u().URL,r=/^\/\//.test(e),i=!u().location&&!/\/\//i.test(e);if(n?e=new(u().URL)(e,u().location||c):/\/\//i.test(e)||(e=o().buildAbsoluteURL(u().location&&u().location.href||"",e)),n){var a=new URL(t,e);return i?a.href.slice(18):r?a.href.slice(a.protocol.length):a.href}return o().buildAbsoluteURL(e,t)};function p(e){for(var t,n=(t=e,u().atob?u().atob(t):Buffer.from(t,"base64").toString("binary")),r=new Uint8Array(n.length),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var d=n(954);const f=e=>!!e&&"object"==typeof e,m=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):f(e[n])&&f(t[n])?e[n]=m(e[n],t[n]):e[n]=t[n]})),e)),{}),h=e=>Object.keys(e).map((t=>e[t])),g=e=>e.reduce(((e,t)=>e.concat(t)),[]),v=e=>{if(!e.length)return[];const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t};var y="INVALID_NUMBER_OF_PERIOD",b="DASH_EMPTY_MANIFEST",w="DASH_INVALID_XML",E="NO_BASE_URL",N="SEGMENT_TIME_UNSPECIFIED";const x=({baseUrl:e="",source:t="",range:n="",indexRange:r=""})=>{const i={uri:t,resolvedUri:l(e||"",t)};if(n||r){const e=(n||r).split("-");let t,a=u().BigInt?u().BigInt(e[0]):parseInt(e[0],10),o=u().BigInt?u().BigInt(e[1]):parseInt(e[1],10);a<Number.MAX_SAFE_INTEGER&&"bigint"==typeof a&&(a=Number(a)),o<Number.MAX_SAFE_INTEGER&&"bigint"==typeof o&&(o=Number(o)),t="bigint"==typeof o||"bigint"==typeof a?u().BigInt(o)-u().BigInt(a)+u().BigInt(1):o-a+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),i.byterange={length:t,offset:a}}return i},T=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),S={static(e){const{duration:t,timescale:n=1,sourceDuration:r,periodDuration:i}=e,a=T(e.endNumber),o=t/n;return"number"==typeof a?{start:0,end:a}:"number"==typeof i?{start:0,end:i/o}:{start:0,end:r/o}},dynamic(e){const{NOW:t,clientOffset:n,availabilityStartTime:r,timescale:i=1,duration:a,periodStart:o=0,minimumUpdatePeriod:s=0,timeShiftBufferDepth:u=1/0}=e,c=T(e.endNumber),l=(t+n)/1e3,p=r+o,d=l+s-p,f=Math.ceil(d*i/a),m=Math.floor((l-p-u)*i/a),h=Math.floor((l-p)*i/a);return{start:Math.max(0,m),end:"number"==typeof c?c:Math.min(f,h)}}},D=e=>{const{type:t,duration:n,timescale:r=1,periodDuration:i,sourceDuration:a}=e,{start:o,end:s}=S[t](e),u=((e,t)=>{const n=[];for(let r=e;r<t;r++)n.push(r);return n})(o,s).map((e=>t=>{const{duration:n,timescale:r=1,periodStart:i,startNumber:a=1}=e;return{number:a+t,duration:n/r,timeline:i,time:t*n}})(e));if("static"===t){const e=u.length-1,t="number"==typeof i?i:a;u[e].duration=t-n/r*e}return u},O=e=>{const{baseUrl:t,initialization:n={},sourceDuration:r,indexRange:i="",periodStart:a,presentationTime:o,number:s=0,duration:u}=e;if(!t)throw new Error(E);const c=x({baseUrl:t,source:n.sourceURL,range:n.range}),l=x({baseUrl:t,source:t,indexRange:i});if(l.map=c,u){const t=D(e);t.length&&(l.duration=t[0].duration,l.timeline=t[0].timeline)}else r&&(l.duration=r,l.timeline=a);return l.presentationTime=o||a,l.number=s,[l]},I=["AUDIO","SUBTITLES"],A=e=>{return(t=e,n=({timeline:e})=>e,h(t.reduce(((e,t)=>(t.forEach((t=>{e[n(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,n},_=e=>{let t=[];var n,r;return n=e,r=(e,n,r,i)=>{t=t.concat(e.playlists||[])},I.forEach((function(e){for(var t in n.mediaGroups[e])for(var i in n.mediaGroups[e][t]){var a=n.mediaGroups[e][t][i];r(a,e,t,i)}})),t},L=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,n)=>{t.number=e.mediaSequence+n}))},R=({oldManifest:e,newManifest:t})=>{const n=e.playlists.concat(_(e)),r=t.playlists.concat(_(t));return t.timelineStarts=A([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:n})=>{t.forEach((t=>{t.discontinuitySequence=n.findIndex((function({timeline:e}){return e===t.timeline}));const r=((e,t)=>{for(let n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null})(e,t.attributes.NAME);if(!r)return;if(t.sidx)return;const i=t.segments[0],a=r.segments.findIndex((function(e){return Math.abs(e.presentationTime-i.presentationTime)<.016666666666666666}));if(-1===a)return L({playlist:t,mediaSequence:r.mediaSequence+r.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!r.segments.length&&t.timeline>r.timeline||r.segments.length&&t.timeline>r.segments[r.segments.length-1].timeline)&&t.discontinuitySequence--);r.segments[a].discontinuity&&!i.discontinuity&&(i.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),L({playlist:t,mediaSequence:r.segments[a].number})}))})({oldPlaylists:n,newPlaylists:r,timelineStarts:t.timelineStarts}),t},M=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?u().BigInt(e.offset)+u().BigInt(e.length)-u().BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),C=e=>h(e.reduce(((e,t)=>{const n=t.attributes.id+(t.attributes.lang||"");return e[n]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[n].segments.push(...t.segments)),t.attributes.contentProtection&&(e[n].attributes.contentProtection=t.attributes.contentProtection)):(e[n]=t,e[n].attributes.timelineStarts=[]),e[n].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{})).map((e=>{var t,n;return e.discontinuityStarts=(t=e.segments||[],n="discontinuity",t.reduce(((e,t,r)=>(t[n]&&e.push(r),e)),[])),e})),U=(e,t)=>{const n=M(e.sidx),r=n&&t[n]&&t[n].sidx;return r&&((e,t,n)=>{const r=e.sidx.map?e.sidx.map:null,i=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,s=o.offset+o.length,c=t.timescale,l=t.references.filter((e=>1!==e.referenceType)),p=[],d=e.endList?"static":"dynamic",f=e.sidx.timeline;let m,h=f,g=e.mediaSequence||0;m="bigint"==typeof t.firstOffset?u().BigInt(s)+t.firstOffset:s+t.firstOffset;for(let e=0;e<l.length;e++){const o=t.references[e],s=o.referencedSize,l=o.subsegmentDuration;let v;v="bigint"==typeof m?m+u().BigInt(s)-u().BigInt(1):m+s-1;const y=O({baseUrl:n,timescale:c,timeline:a,periodStart:f,presentationTime:h,number:g,duration:l,sourceDuration:i,indexRange:`${m}-${v}`,type:d})[0];r&&(y.map=r),p.push(y),m+="bigint"==typeof m?u().BigInt(s):s,h+=l/c,g++}e.segments=p})(e,r,e.sidx.resolvedUri),e},P=(e,t={})=>{if(!Object.keys(t).length)return e;for(const n in e)e[n]=U(e[n],t);return e},k=({attributes:e,segments:t,sidx:n,discontinuityStarts:r})=>{const i={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuityStarts:r,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(i.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(i.contentProtection=e.contentProtection),n&&(i.sidx=n),i},z=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,F=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,j=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,B=e=>e?Object.keys(e).reduce(((t,n)=>{const r=e[n];return t.concat(r.playlists)}),[]):[],G=({dashPlaylists:e,locations:t,sidxMapping:n={},previousManifest:r,eventStream:i})=>{if(!e.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:s,minimumUpdatePeriod:u}=e[0].attributes,c=C(e.filter(z)).map(k),l=C(e.filter(F)),p=C(e.filter(j)),d=e.map((e=>e.attributes.captionServices)).filter(Boolean),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:P(c,n)};u>=0&&(f.minimumUpdatePeriod=1e3*u),t&&(f.locations=t),"dynamic"===o&&(f.suggestedPresentationDelay=s),i&&i.length>0&&(f.eventStream=i);const m=0===f.playlists.length,h=l.length?((e,t={},n=!1)=>{let r;const i=e.reduce(((e,i)=>{const a=i.attributes.role&&i.attributes.role.value||"",o=i.attributes.lang||"";let s=i.attributes.label||"main";if(o&&!i.attributes.label){const e=a?` (${a})`:"";s=`${i.attributes.lang}${e}`}e[s]||(e[s]={language:o,autoselect:!0,default:"main"===a,playlists:[],uri:""});const u=U((({attributes:e,segments:t,sidx:n,mediaSequence:r,discontinuitySequence:i,discontinuityStarts:a},o)=>{const s={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuitySequence:i,discontinuityStarts:a,timelineStarts:e.timelineStarts,mediaSequence:r,segments:t};return e.contentProtection&&(s.contentProtection=e.contentProtection),n&&(s.sidx=n),o&&(s.attributes.AUDIO="audio",s.attributes.SUBTITLES="subs"),s})(i,n),t);return e[s].playlists.push(u),void 0===r&&"main"===a&&(r=i,r.default=!0),e}),{});r||(i[Object.keys(i)[0]].default=!0);return i})(l,n,m):null,g=p.length?((e,t={})=>e.reduce(((e,n)=>{const r=n.attributes.label||n.attributes.lang||"text";return e[r]||(e[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),e[r].playlists.push(U((({attributes:e,segments:t,mediaSequence:n,discontinuityStarts:r,discontinuitySequence:i})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const a={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};return e.codecs&&(a.CODECS=e.codecs),{attributes:a,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:r,discontinuitySequence:i,mediaSequence:n,segments:t}})(n),t)),e}),{}))(p,n):null,v=c.concat(B(h),B(g)),y=v.map((({timelineStarts:e})=>e));var b,w;return f.timelineStarts=A(y),b=v,w=f.timelineStarts,b.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=w.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),h&&(f.mediaGroups.AUDIO.audio=h),g&&(f.mediaGroups.SUBTITLES.subs=g),d.length&&(f.mediaGroups["CLOSED-CAPTIONS"].cc=d.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:n,language:r}=t;e[r]={autoselect:!1,default:!1,instreamId:n,language:r},t.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[r].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[r]["3D"]=t["3D"])})),e):e),{})),r?R({oldManifest:r,newManifest:f}):f},q=(e,t,n)=>{const{NOW:r,clientOffset:i,availabilityStartTime:a,timescale:o=1,periodStart:s=0,minimumUpdatePeriod:u=0}=e,c=(r+i)/1e3+u-(a+s);return Math.ceil((c*o-t)/n)},X=(e,t)=>{const{type:n,minimumUpdatePeriod:r=0,media:i="",sourceDuration:a,timescale:o=1,startNumber:s=1,periodStart:u}=e,c=[];let l=-1;for(let p=0;p<t.length;p++){const d=t[p],f=d.d,m=d.r||0,h=d.t||0;let g;if(l<0&&(l=h),h&&h>l&&(l=h),m<0){const s=p+1;g=s===t.length?"dynamic"===n&&r>0&&i.indexOf("$Number$")>0?q(e,l,f):(a*o-l)/f:(t[s].t-l)/f}else g=m+1;const v=s+c.length+g;let y=s+c.length;for(;y<v;)c.push({number:y,duration:f/o,time:l,timeline:u}),l+=f,y++}return c},H=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,V=(e,t)=>e.replace(H,(e=>(t,n,r,i)=>{if("$$"===t)return"$";if(void 0===e[n])return t;const a=""+e[n];return"RepresentationID"===n?a:(i=r?parseInt(i,10):1,a.length>=i?a:`${new Array(i-a.length+1).join("0")}${a}`)})(t)),Z=(e,t)=>{const n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:r={sourceURL:"",range:""}}=e,i=x({baseUrl:e.baseUrl,source:V(r.sourceURL,n),range:r.range}),a=((e,t)=>e.duration||t?e.duration?D(e):X(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return a.map((t=>{n.Number=t.number,n.Time=t.time;const r=V(e.media||"",n),a=e.timescale||1,o=e.presentationTimeOffset||0,s=e.periodStart+(t.time-o)/a;return{uri:r,timeline:t.timeline,duration:t.duration,resolvedUri:l(e.baseUrl||"",r),map:i,number:t.number,presentationTime:s}}))},W=(e,t)=>{const{duration:n,segmentUrls:r=[],periodStart:i}=e;if(!n&&!t||n&&t)throw new Error(N);const a=r.map((t=>((e,t)=>{const{baseUrl:n,initialization:r={}}=e,i=x({baseUrl:n,source:r.sourceURL,range:r.range}),a=x({baseUrl:n,source:t.media,range:t.mediaRange});return a.map=i,a})(e,t)));let o;n&&(o=D(e)),t&&(o=X(e,t));return o.map(((t,n)=>{if(a[n]){const r=a[n],o=e.timescale||1,s=e.presentationTimeOffset||0;return r.timeline=t.timeline,r.duration=t.duration,r.number=t.number,r.presentationTime=i+(t.time-s)/o,r}})).filter((e=>e))},Y=({attributes:e,segmentInfo:t})=>{let n,r;t.template?(r=Z,n=m(e,t.template)):t.base?(r=O,n=m(e,t.base)):t.list&&(r=W,n=m(e,t.list));const i={attributes:e};if(!r)return i;const a=r(n,t.segmentTimeline);if(n.duration){const{duration:e,timescale:t=1}=n;n.duration=e/t}else a.length?n.duration=a.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):n.duration=0;return i.attributes=n,i.segments=a,t.base&&n.indexRange&&(i.sidx=a[0],i.segments=[]),i},K=(e,t)=>v(e.childNodes).filter((({tagName:e})=>e===t)),Q=e=>e.textContent.trim(),J=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[n,r,i,a,o,s]=t.slice(1);return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(i||0)+3600*parseFloat(a||0)+60*parseFloat(o||0)+parseFloat(s||0)},ee={mediaPresentationDuration:e=>J(e),availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:e=>J(e),suggestedPresentationDelay:e=>J(e),type:e=>e,timeShiftBufferDepth:e=>J(e),start:e=>J(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){const t=parseInt(e,10);return isNaN(t)?J(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},te=e=>e&&e.attributes?v(e.attributes).reduce(((e,t)=>{const n=ee[t.name]||ee.DEFAULT;return e[t.name]=n(t.value),e}),{}):{},ne={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},re=(e,t)=>t.length?g(e.map((function(e){return t.map((function(t){return l(e,Q(t))}))}))):e,ie=e=>{const t=K(e,"SegmentTemplate")[0],n=K(e,"SegmentList")[0],r=n&&K(n,"SegmentURL").map((e=>m({tag:"SegmentURL"},te(e)))),i=K(e,"SegmentBase")[0],a=n||t,o=a&&K(a,"SegmentTimeline")[0],s=n||i||t,u=s&&K(s,"Initialization")[0],c=t&&te(t);c&&u?c.initialization=u&&te(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const l={template:c,segmentTimeline:o&&K(o,"S").map((e=>te(e))),list:n&&m(te(n),{segmentUrls:r,initialization:te(u)}),base:i&&m(te(i),{initialization:te(u)})};return Object.keys(l).forEach((e=>{l[e]||delete l[e]})),l},ae=e=>g(K(e.node,"EventStream").map((t=>{const n=te(t),r=n.schemeIdUri;return K(t,"Event").map((t=>{const i=te(t),a=i.presentationTime||0,o=n.timescale||1,s=i.duration||0,u=a/o+e.attributes.start;return{schemeIdUri:r,value:n.value,id:i.id,start:u,end:u+s/o,messageData:Q(t)||i.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}}))}))),oe=(e,t,n)=>r=>{const i=te(r),a=re(t,K(r,"BaseURL")),o=K(r,"Role")[0],s={role:te(o)};let u=m(e,i,s);const c=K(r,"Accessibility")[0],l=(e=>{if("urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{let t,n;return n=e,/^CC\d=/.test(e)?[t,n]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:n}}));if("urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[n,r=""]=e.split("=");t.channel=n,t.language=e,r.split(",").forEach((e=>{const[n,r]=e.split(":");"lang"===n?t.language=r:"er"===n?t.easyReader=Number(r):"war"===n?t.aspectRatio=Number(r):"3D"===n&&(t["3D"]=Number(r))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}))})(te(c));l&&(u=m(u,{captionServices:l}));const d=K(r,"Label")[0];if(d&&d.childNodes.length){const e=d.childNodes[0].nodeValue.trim();u=m(u,{label:e})}const f=K(r,"ContentProtection").reduce(((e,t)=>{const n=te(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const r=ne[n.schemeIdUri];if(r){e[r]={attributes:n};const i=K(t,"cenc:pssh")[0];if(i){const t=Q(i);e[r].pssh=t&&p(t)}}return e}),{});Object.keys(f).length&&(u=m(u,{contentProtection:f}));const h=ie(r),v=K(r,"Representation"),y=m(n,h);return g(v.map(((e,t,n)=>r=>{const i=K(r,"BaseURL"),a=re(t,i),o=m(e,te(r)),s=ie(r);return a.map((e=>({segmentInfo:m(n,s),attributes:m(o,{baseUrl:e})})))})(u,a,y)))},se=(e,t)=>(n,r)=>{const i=re(t,K(n.node,"BaseURL")),a=m(e,{periodStart:n.attributes.start});"number"==typeof n.attributes.duration&&(a.periodDuration=n.attributes.duration);const o=K(n.node,"AdaptationSet"),s=ie(n.node);return g(o.map(oe(a,i,s)))},ue=e=>{if(""===e)throw new Error(b);const t=new d.DOMParser;let n,r;try{n=t.parseFromString(e,"application/xml"),r=n&&"MPD"===n.documentElement.tagName?n.documentElement:null}catch(e){}if(!r||r&&r.getElementsByTagName("parsererror").length>0)throw new Error(w);return r},ce=(e,t={})=>{const n=((e,t={})=>{const{manifestUri:n="",NOW:r=Date.now(),clientOffset:i=0}=t,a=K(e,"Period");if(!a.length)throw new Error(y);const o=K(e,"Location"),s=te(e),u=re([n],K(e,"BaseURL"));s.type=s.type||"static",s.sourceDuration=s.mediaPresentationDuration||0,s.NOW=r,s.clientOffset=i,o.length&&(s.locations=o.map(Q));const c=[];return a.forEach(((e,t)=>{const n=te(e),r=c[t-1];n.start=(({attributes:e,priorPeriodAttributes:t,mpdType:n})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==n?null:0)({attributes:n,priorPeriodAttributes:r?r.attributes:null,mpdType:s.type}),c.push({node:e,attributes:n})})),{locations:s.locations,representationInfo:g(c.map(se(s,u))),eventStream:g(c.map(ae))}})(ue(e),t),r=n.representationInfo.map(Y);return G({dashPlaylists:r,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:n.eventStream})};var le=n(793);var pe=n(13);function de(e){return function(e){if(Array.isArray(e))return(0,le.Z)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,pe.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}const fe=navigator.userAgent.includes("Chrome")?chrome:browser,me=e=>new Promise(((t,n)=>fe.storage.sync.get(e,(r=>fe.runtime.lastError?n(Error(fe.runtime.lastError.message)):t(r?r[e]:void 0)))));function he(e,t){const n={};return n[e]=t,fe.storage.sync.set(n)}function ge(e,t,n){!function(e,t){const n={};n[e]=t,fe.storage.local.set(n)}(e,{value:t,expiry:(new Date).getTime()+n})}async function ve(e){const t=await(e=>new Promise(((t,n)=>fe.storage.local.get(e,(r=>fe.runtime.lastError?n(Error(fe.runtime.lastError.message)):t(r?r[e]:void 0))))))(e);if(!t)return null;return(new Date).getTime()>t.expiry?(function(e){fe.storage.local.remove(e)}(e),null):t.value}var ye=function(e){var t=function(t){return(n=e,n.split("").map((function(e){return e.charCodeAt(0)}))).reduce((function(e,t){return e^t}),t);var n};return function(e){return e.match(/.{1,2}/g).map((function(e){return parseInt(e,16)})).map(t).map((function(e){return String.fromCharCode(e)})).join("")}};var be,we;be=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve("dailyDlCount");case 2:n=(n=e.sent)?parseInt(n)+1:1,r=60*(1440-60*(new Date).getHours()-(new Date).getMinutes())*1e3,ge("dailyDlCount",n,r);case 6:case"end":return e.stop()}}),e)}))),we=i(t().mark((function e(n){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Error fetching data. Status: ".concat(r.status));case 6:return e.next=8,r.arrayBuffer();case 8:return i=e.sent,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));var Ee,Ne,xe=(Ee=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Se.runtime.setUninstallURL){e.next=12;break}return n=$e(),e.next=4,ze();case 4:e.t0=e.sent,e.t1=e.t0+"/",e.t2=Be.includes(n)?n+"/":"",e.t3=e.t1+e.t2,r=e.t3+"uninstalled.html",Se.runtime.setUninstallURL(r),e.next=12;break;case 12:case"end":return e.stop()}}),e)}))),function(){return Ee.apply(this,arguments)}),Te=(Ne=i(t().mark((function e(){var n,r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue();case 2:return(n=e.sent).dailycount||(n.dailycount=20),e.next=6,ve("dailyDlCount");case 6:return(r=e.sent)&&r>n.dailycount&&De&&(i="exceeded.html"),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)}))),function(){return Ne.apply(this,arguments)}),Se=navigator.userAgent.includes("Chrome")?chrome:browser,De=!0;navigator.userAgent.includes("Firefox");var Oe,Ie,Ae,_e,Le,Re,Me=Se.i18n.getMessage,Ce="speed",Ue=function(){var e=i(t().mark((function e(){var n,r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me("option");case 2:n=e.sent,r={counter:0,priority:Ce,domain:{},rcounterr:0,recltime:30,reclsize:100};try{n&&Object.assign(r,n),r.counter=Math.max(0,Math.floor(Number(r.counter)||0)),r.rcounterr=Math.max(0,Math.floor(Number(r.rcounterr)||0)),Pe(r)}catch(e){(i=console).log.apply(i,de(logRED(e.stack)))}return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(e){he("option",e)},ke=function(){var e=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cococut.net",e.next=3,Ue();case 3:return(r=e.sent).homedomain&&(n=r.homedomain),De||(n="127.0.0.1"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=(Oe=i(t().mark((function e(){var n,r,i,a=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],r="https://cococut.net",e.next=4,Ue();case 4:return(i=e.sent).homedomain&&(r="https://".concat(i.homedomain)),De||n||(r="http://127.0.0.1"),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),function(){return Oe.apply(this,arguments)}),Fe=(Ie=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://findit.cococut.net/",e.next=3,Ue();case 3:return(r=e.sent).homedomain&&(n="https://findit.".concat(r.homedomain)),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),Ae=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://merge-video-audio.cococut.net/",e.next=3,Ue();case 3:return(r=e.sent).homedomain&&(n="https://merge-video-audio.".concat(r.homedomain,"/")),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),_e=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="pro.cococut.net",e.next=3,Ue();case 3:return(r=e.sent).prodomain&&(n=r.prodomain),De||(n="127.0.0.1"),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),function(){return _e.apply(this,arguments)});Le=i(t().mark((function e(){var n,r,i,a=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]&&a[0],r="https://pro.cococut.net",e.next=4,Ue();case 4:return(i=e.sent).prodomain&&(r="https://".concat(i.prodomain)),De||n||(r="http://127.0.0.1"),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),Re=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0="https://config.",e.next=3,ke();case 3:return e.t1=e.sent,e.t2=e.t0.concat.call(e.t0,e.t1,"/config.json"),n=[e.t2,"https://config.cococut.net/config.json","https://parser-config.cocoshot.com/config.json"],De||(n=["http://127.0.0.1/pub/config/config.json"]),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));var je,Be=["zh_tw","zh_cn"];function $e(){var e=Se.i18n.getUILanguage();return e.match(/zh-CN/)?"zh_cn":e.match(/zh-TW/)?"zh_tw":e.startsWith("zh")?"zh_cn":e.startsWith("en")?e.substr(0,2):"other"}Se.runtime.onInstalled&&Se.runtime.onInstalled.addListener((je=i(t().mark((function e(n){var r,i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Se.runtime.getManifest(),i=$e(),e.next=4,ze();case 4:return e.t0=e.sent,e.t1=e.t0+"/",e.t2=Be.includes(i)?i+"/":"",e.t3=e.t1+e.t2,e.t4=e.t3+"installed.html?v=",e.t5=r.version,a=e.t4+e.t5,e.next=13,me("installed");case 13:if(e.sent){e.next=15;break}Se.tabs.create({url:a},(function(e){he("installed","t")}));case 15:case"end":return e.stop()}}),e)}))),function(e){return je.apply(this,arguments)})),xe();var Ge,qe,Xe,He=(Ge=i(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me("pui");case 2:if(!(n=e.sent)){e.next=9;break}if(r=ye("CocoCut pro user"),"active"!=r(n).split("||")[3]){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),function(){return Ge.apply(this,arguments)}),Ve=(qe=i(t().mark((function e(){var n,r,i,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e(),e.t0="://",e.next=4,ke();case 4:return e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1,"/"),i="other"!==n?"ahls.html":"oahls.html",e.next=9,Te();case 9:return(a=e.sent)&&(i=a),e.next=13,He();case 13:if(!e.sent){e.next=21;break}return e.t2="://",e.next=17,Fe();case 17:e.t3=e.sent,r=e.t2.concat.call(e.t2,e.t3,"/"),i="ahls.vhtml","other"==n&&(i="oahls.vhtml");case 21:return o=De?r+(Be.includes(n)?n+"/":"")+i:"://127.0.0.1/"+i,e.abrupt("return",o);case 23:case"end":return e.stop()}}),e)}))),function(){return qe.apply(this,arguments)});Xe=i(t().mark((function e(){var n,r,i,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$e(),e.t0="://",e.next=4,ke();case 4:return e.t1=e.sent,r=e.t0.concat.call(e.t0,e.t1,"/"),i="other"!=n?"dlm.html":"odlm.html",e.next=9,He();case 9:if(!e.sent){e.next=17;break}return e.t2="://",e.next=13,Fe();case 13:e.t3=e.sent,r=e.t2.concat.call(e.t2,e.t3,"/"),i="dlm.vhtml","other"==n&&(i="odlm.vhtml");case 17:return a=De?r+"dlm/"+(Be.includes(n)?n+"/":"")+i:"://127.0.0.1/dlm/"+i,e.abrupt("return",a);case 19:case"end":return e.stop()}}),e)})));var Ze=n(500);function We(e){var t=e/3600|0,n=e%3600/60|0;e=e%60|0;var r=t>0?t+":":"";return r+=n.toString().padStart(2,"0")+":",r+=e.toString().padStart(2,"0")}var Ye=navigator.userAgent.includes("Chrome")?chrome:browser,Ke="FETCH_DOM",Qe="ADD_HEADER",Je="UNSET_HEADER",et="KEEP_SET_HEADER",tt="SET_USER_INFO",nt="MESSAGEPIPE",rt="GET_BG_OPTIONS",it="SET_BG_OPTIONS",at="M3U8DL_AJAX",ot={GET_parentVideoPageTabId:"GET_parentVideoPageTabId",ASK_VPAGE_START_CAPTURE:"ASK_VPAGE_START_CAPTURE",CAPTURE_STARTED:"CAPTURE_STARTED",VPAGE_CAPTURED_ONE_BUFFER:"VPAGE_CAPTURED_ONE_BUFFER",CAPTURE_ABORT:"CAPTURE_ABORT",CAPTURE_DONE:"CAPTURE_DONE",SEND_ONE_BUFFER_TO_DLPAGE:"SEND_ONE_BUFFER_TO_DLPAGE",SET_HLSDL_HEADERS:"SET_HLSDL_HEADERS",GET_MPD_M3U8_TEXT:"GET_MPD_M3U8_TEXT"};var st=function(){var e=i(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.runtime.sendMessage({eventName:n,data:r});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ut=(function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Ke,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Qe,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Je,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(et,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(tt,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st(nt,n);case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(rt);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st(it,n);case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(at,n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))}(),new URL(location.href).searchParams),ct=ut.get("mpd_url"),lt=ut.get("requestHeaders");ut.get("title");!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;chrome.tabs.getCurrent((function(n){var r={removeRuleIds:[n?n.id:1]};if(Object.keys(e).length){var i=Object.keys(e).map((function(t){return{header:t,operation:"set",value:e[t]}}));r.addRules=[{id:n?n.id:1,action:{type:"modifyHeaders",requestHeaders:i},condition:{resourceTypes:["xmlhttprequest","media","image"]}}],n&&(r.addRules[0].condition.tabIds=[n.id])}chrome.declarativeNetRequest.updateSessionRules(r,(function(){t&&t()}))}))}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return t;try{return JSON.parse(e)}catch(e){return t}}(lt),(function(){!function(e){var t=setInterval((function(){Ze.G.initSyncComplete&&Ze.G.initLocalComplete&&(clearInterval(t),e())}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}(bt)}));var pt,dt={},ft="",mt="",ht="";function gt(e){for(var t=document.getElementsByClassName(e),n=0;n<t.length;n++)t[n].innerHTML=Me(e)}for(var vt=0,yt=["Tm3u8FileLoading","TmpdParser","TmpdMPdFileAddr","TmpdSelectAudio","Tdownload","TmpdSelectVideo","TmpdSelectAudio","Tm3u8DlDescDlMpdQuik"];vt<yt.length;vt++){gt(yt[vt])}function bt(){ct&&fetch(ct).then((function(e){return e.text()})).then((function(e){pt=e,function(){$("#loading").hide(),$("#main").show(),dt=ce(pt,{manifestUri:ct}),$(pt).find("contentprotection").length>0&&($("#loading").show(),$("#loading .optionBox").html(Me("TmpdDrmProtect")));for(var e in dt.playlists)$("#mpdVideoLists").append("<option value='".concat(e,"'>").concat(dt.playlists[e].attributes.NAME," | ").concat((dt.playlists[e].attributes.BANDWIDTH/1024).toFixed(1)," kbps |  ").concat(dt.playlists[e].attributes["FRAME-RATE"].toFixed(1)," fps |  ").concat(dt.playlists[e].attributes.RESOLUTION.width," x ").concat(dt.playlists[e].attributes.RESOLUTION.height,"</option>"));for(var t in wt("video",0),dt.mediaGroups.AUDIO.audio)for(var n in dt.mediaGroups.AUDIO.audio[t].playlists){var r=dt.mediaGroups.AUDIO.audio[t].playlists[n];$("#mpdAudioLists").append("<option value='".concat(t,"$-coco-$").concat(n,"'>").concat(t," | ").concat(r.attributes.NAME," | ").concat(r.attributes.BANDWIDTH/1e3,"Kbps</option>"))}wt("audio",$("#mpdAudioLists option:first").val())}(),$("#mpd_url").html(ct).attr("href",ct)})),$("#mpdVideoLists, #mpdAudioLists").change((function(){wt("mpdVideoLists"==this.id?"video":"audio",$(this).val())})),$("#videoToM3u8, #audioToM3u8").click(i(t().mark((function e(){var n,r,a,o,s,u,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in n=$("#mpdVideoLists").val(),r=dt.playlists[n],a="video","audioToM3u8"==this.id&&(n=$("#mpdAudioLists").val(),o=n.split("$-coco-$"),n=o[0],s=o[1],r=dt.mediaGroups.AUDIO.audio[n].playlists[s],a="audio"),ht=a,mt=Et(a),ft="#EXTM3U\n",ft+="#EXT-X-VERSION:3\n",ft+="#EXT-X-TARGETDURATION:"+r.targetDuration+"\n",ft+="#EXT-X-MEDIA-SEQUENCE:0\n",ft+="#EXT-X-PLAYLIST-TYPE:VOD\n",ft+='#EXT-X-MAP:URI="'+r.segments[0].map.resolvedUri+'"\n',r.segments)ft+="#EXTINF:"+r.segments[u].duration+",\n",ft+=r.segments[u].resolvedUri+"\n";ft+="#EXT-X-ENDLIST",c=De?"https":"http",chrome.tabs.getCurrent(function(){var e=i(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve();case 2:r=e.sent,chrome.tabs.create({url:c+r+"?mpdtid="+n.id});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e,this)})))),ke().then((function(e){var t="https://merge-video-audio.".concat(e,"/");$("#go2mergeav").attr("href",t)}))}function wt(e,t){switch(e){case"video":!function(e){var t=dt.playlists[e];$("#videoInfoC .count").html("".concat(Me("TmpdTotalFilesCount"),": ").concat(t.segments.length,", ").concat(Me("Tm3u8TotalTime"),": ").concat(We(dt.duration))),t.segments.length>0&&$(".tipsVideo").html("".concat(Me("TmpdVideo")," ").concat(Me("TmpdInitSeg"))+': <input type="text" value="'+t.segments[0].map.resolvedUri+'" spellcheck="false" readonly="readonly" class="input">'),$("#videoInfoC .info").html(Et("video"))}(t);break;case"audio":!function(e){var t,n=e.split("$-coco-$"),r=n[0],i=n[1];t=dt.mediaGroups.AUDIO.audio[r].playlists[i],$("#audioInfoC .count").html("".concat(Me("TmpdTotalFilesCount"),": ").concat(t.segments.length,", ").concat(Me("Tm3u8TotalTime"),": ").concat(We(dt.duration))),t.segments.length>0&&$(".tipsAudio").html("".concat(Me("TAudio")," ").concat(Me("TmpdInitSeg"))+': <input type="text" value="'+t.segments[0].map.resolvedUri+'" spellcheck="false" readonly="readonly" class="input">'),$("#audioInfoC .info").html(Et("audio"))}(t)}}function Et(){return"audio"==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"audio")?Me("TAudio")+": "+$("#mpdAudioLists").find("option:selected").text():Me("TmpdVideo")+": "+$("#mpdVideoLists").find("option:selected").text()}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ye.runtime.onMessage.addListener((function(r,i,a){var o=r.eventName,s=r.data;return o===e&&(t(s,a,i),!!n||void 0)}))}(ot.GET_MPD_M3U8_TEXT,(function(e,t,n){t({m3u8Content:ft,mediaInfo:mt,mediaType:ht})}),!0)})()})();