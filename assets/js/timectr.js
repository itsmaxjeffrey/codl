!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}("undefined"!=typeof self?self:this,(function(){return t=[function(t,e,r){"use strict";const n=r(1);!function(e,r){if("object"==typeof t.exports){var i=r.bind(e)(e,n,!0)||[],o={};i.forEach((function(t){o[t.name]=t.module})),t.exports=o}else r.bind(e)(e,n)}("undefined"!=typeof window?window:this,(function(t,e,r){var n=function(){var t=1,e={},r={};this._getHookedMap=function(){return e},this._getHookedContextMap=function(){return r},this._getAutoStrId=function(){return"__auto__"+t++},this._getAutoId=function(){return t++}};if(n.prototype={_getHookedId:function(t){var e=this._getHookedContextMap(),r=null;return Object.keys(e).forEach((n=>{t===e[n]&&(r=n)})),null==r&&(r=this._getAutoStrId(),e[r]=t),r},_getHookedMethodMap:function(t){var r=this._getHookedId(t),n=this._getHookedMap(),i=n[r];return e.isExistObject(i)||(i=n[r]={}),i},_getHookedMethodTask:function(t,r){var n=this._getHookedMethodMap(t),i=n[r];return e.isExistObject(i)||(i=n[r]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}}),i},_invokeMethods:function(t,r,n){if(e.isArray(r)){var i=null;return e.ergodicArrayObject(t,r,(function(t){if(e.isFunction(t.method)){var r=t.method.apply(this,n);null!=r&&(i=r)}})),i}},_hook:function(t,r,n){void 0===n&&(n=t);var i=t[r],o=this._getHookedMethodTask(t,r);if(o.original||(o.original=i),e.isExistObject(o.replace)&&e.isFunction(o.replace.method))t[r]=o.replace.method(o.original);else{var a=this._invokeMethods,s=new e.FunctionBuilder((function(t){return{result:void 0}}));o.task.before.length>0&&s.push((function(t){a(n||t.this,o.task.before,[o.original,t.arguments])})),e.isExistObject(o.task.current)&&e.isFunction(o.task.current.method)?s.push((function(e){return{result:o.task.current.method.call(n||e.this,t,o.original,e.arguments)}})):s.push((function(t){return{result:o.original.apply(n||t.this,t.arguments)}})),o.task.after.length>0&&s.push((function(t){var e=[];e.push(o.original),e.push(t.arguments),e.push(t.result);var r=a(n||t.this,o.task.after,e);return{result:null!=r?r:t.result}})),s.push((function(t){return{returnValue:t.result}}));var c=s.result();for(var u in o.original)Object.defineProperty(c,u,{get:function(){return o.original[u]},set:function(t){o.original[u]=t}});c.prototype=o.original.prototype,t[r]=c}},hook:function(t,r,n){var i=-1,o=void 0!==n.context?n.context:t;if(null==t[r]&&(t[r]=function(){}),!e.isFunction(t[r]))return i;var a=this._getHookedMethodTask(t,r),s=this._getAutoId();return e.isFunction(n.replace)&&(a.replace={id:s,method:n.replace},i=0),e.isFunction(n.before)&&(a.task.before.push({id:s,method:n.before}),i=0),e.isFunction(n.current)&&(a.task.current={id:s,method:n.current},i=0),e.isFunction(n.after)&&(a.task.after.push({id:s,method:n.after}),i=0),0===i?(this._hook(t,r,o),s):i},hookReplace:function(t,e,r,n){return this.hook(t,e,{replace:r,context:n})},hookBefore:function(t,e,r,n){return this.hook(t,e,{before:r,context:n})},hookCurrent:function(t,e,r,n){return this.hook(t,e,{current:r,context:n})},hookAfter:function(t,e,r,n){return this.hook(t,e,{after:r,context:n})},hookClass:function(t,r,n,i,o){var a=this,s=t[r];o||(o=[]),o.push("prototype"),o.push("caller"),o.push("arguments"),i=i||"_innerHook";var c=function(){this[i]=new s,n.apply(this,arguments)};this.hookedToString(s,c),this.hookedToProperties(s,c,!0,o);var u=Object.getOwnPropertyNames(s.prototype),l=c.prototype={constructor:c};u.forEach((function(t){if("constructor"!==t){var r=function(){if(s.prototype[t]&&e.isFunction(s.prototype[t]))return s.prototype[t].apply(this[i],arguments)};a.hookedToString(s.prototype[t],r),l[t]=r}})),this.hookReplace(t,r,(function(){return c}),t)},hookedToProperties:function(t,r,n,i){Object.getOwnPropertyNames(t).forEach((function(o){e.contains(i,o)||(n?Object.defineProperty(r,o,{configurable:!1,enumerable:!1,value:t[o],writable:!1}):r[o]=t[o])}))},hookedToString:function(t,e){Object.defineProperties(e,{toString:{configurable:!1,enumerable:!1,value:t.toString.bind(t),writable:!1},toLocaleString:{configurable:!1,enumerable:!1,value:t.toLocaleString.bind(t),writable:!1}})},hookAjax:function(r){if(!this.isHooked(t,"XMLHttpRequest")){var n=this,i=function(t){return e.isFunction(r[t])&&n.hookBefore(this.xhr,t,r[t]),this.xhr[t].bind(this.xhr)},o=function(t){return function(){return this.hasOwnProperty(t+"_")?this[t+"_"]:this.xhr[t]}},a=function(t){return function(e){var i=this.xhr;0===t.indexOf("on")?r[t]?(i[t]=function(){e.apply(i,arguments)},n.hookBefore(i,t,r[t])):i[t]=e:this[t+"_"]=e}};return this.hookReplace(t,"XMLHttpRequest",(function(t){var r=function(){for(var r in this.xhr=new t,this.xhr){var n=this.xhr[r];e.isFunction(n)?this[r]=i.bind(this)(r):Object.defineProperty(this,r,{get:o(r),set:a(r)})}this.xhr.xhr=this};return n.hookedToProperties(t,r,!0),n.hookedToString(t,r),r}))}},hookAjaxV2:function(t){this.hookClass(window,"XMLHttpRequest",(function(){})),e.ergodicObject(this,t,(function(t){}))},unHook:function(t,r,n,i){if(t[r]&&e.isFunction(t[r])){var o=this._getHookedMethodTask(t,r);i&&this.unHookById(i)||(o.original?(t[r]=o.original,n&&delete this._getHookedMethodMap(t)[r]):delete this._getHookedMethodMap(t)[r])}},unHookById:function(t){var r=!1;if(t){var n=this._getHookedMap();e.ergodicObject(this,n,(function(n){e.ergodicObject(this,n,(function(e){e.task.before=e.task.before.filter((function(e){return r=r||e.id===t,e.id!==t})),e.task.after=e.task.after.filter((function(e){return r=r||e.id===t,e.id!==t})),e.task.current&&e.task.current.id===t&&(e.task.current=void 0,r=!0),e.replace&&e.replace.id===t&&(e.replace=void 0,r=!0)}))}))}return r},removeHookMethod:function(t,r){t[r]&&e.isFunction(t[r])&&(this._getHookedMethodMap(t)[r]={original:void 0,replace:void 0,task:{before:[],current:void 0,after:[]}})},isHooked:function(t,e){var r=this._getHookedMethodMap(t);return void 0!==r[e]&&void 0!==r[e].original},protect:function(t,e){Object.defineProperty(t,e,{configurable:!1,writable:!1})},preventError:function(t,e,r,n){this.hookCurrent(t,e,(function(t,e){var n=r;try{n=t.apply(this,e)}catch(t){}return n}),n)},plugins:function(r){if(e.isFunction(r.mount)){var n=r.mount.call(this,e);"string"==typeof r.name&&(t[r.name]=n)}}},!(t.eHook&&t.eHook instanceof n)){var i=new n,o=function(){this.isHooked=!1;var t=1;this._urlDispatcherList=[],this._getAutoId=function(){return t++}};return o.prototype={_invokeAimMethods:function(t,r,n){var i=e.parseArrayByProperty(t.patcherList,"config"),o=[];return e.ergodicArrayObject(t,i,(function(t){e.isFunction(t[r])&&o.push(t[r])})),e.invokeMethods(t,o,n)},_urlPatcher:function(t){var r=[];return e.ergodicArrayObject(this,this._urlDispatcherList,(function(n,i){e.UrlUtils.urlMatching(t,n.patcher)&&r.push(n)})),r},_xhrDispatcher:function(t,r){var n=e.UrlUtils.getUrlWithoutParam(r);t.patcherList=this._urlPatcher(n)},_parseEvent:function(t,e){try{Object.defineProperties(t,{target:{get:function(){return e}},srcElement:{get:function(){return e}}})}catch(t){}return t},_parseOpenArgs:function(t){return{method:t[0],fullUrl:t[1],url:e.UrlUtils.getUrlWithoutParam(t[1]),params:e.UrlUtils.getParamFromUrl(t[1]),async:t[2]}},_rebuildOpenArgs:function(t,r){r[0]=t.method,r[1]=e.UrlUtils.margeUrlAndParams(t.url,t.params),r[2]=t.async},_getHookedArgs:function(t){return Array.prototype.slice.call(t,0).splice(1)},_onResponse:function(t,r){var n=this._getHookedArgs(r);n[0][0]=this._parseEvent(n[0][0],t.xhr);var i=this._invokeAimMethods(t,"hookResponse",n),o=-1;e.ergodicArrayObject(t,i,(function(t,e){null!=t&&(o=e)})),-1!==o&&(t.xhr.responseText_=t.xhr.response_=i[o])},startHook:function(){var e=this,r={onreadystatechange:function(){(4==this.readyState&&200==this.status||304==this.status)&&e._onResponse(this,arguments)},onload:function(){e._onResponse(this,arguments)},open:function(){var t=e._getHookedArgs(arguments),r=t[0][1];e._xhrDispatcher(this,r);var n=e._parseOpenArgs(t[0]);this.openArgs=n,e._invokeAimMethods(this,"hookRequest",[n]),e._rebuildOpenArgs(n,t[0])},send:function(){var t=e._getHookedArgs(arguments);this.sendArgs=t,e._invokeAimMethods(this,"hookSend",t)}};this.___hookedId=t.eHook.hookAjax(r),this.isHooked=!0},register:function(t,r,n){if(!t)return-1;if(!e.isExistObject(r)&&!e.isFunction(n))return-1;var i={};e.isFunction(r)&&(i.hookRequest=r),e.isFunction(n)&&(i.hookResponse=n),e.isExistObject(r)&&(i=r);var o=this._getAutoId();return this._urlDispatcherList.push({id:o,patcher:t,config:i}),this.isHooked||this.startHook(),o}},t.eHook=i,t.aHook=new o,[{name:"eHook",module:i},{name:"aHook",module:t.aHook}]}}))},function(t){!function(e,r){"use strict";"object"==typeof t.exports?t.exports=r(e):r(e)}("undefined"!=typeof window?window:this,(function(t,e){var r=Array.prototype.map,n=Array.prototype.forEach,i=(Array.prototype.reduce,{isArray:function(t){return Array.isArray(t)||"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return!!t&&"function"==typeof t},isExistObject:function(t){return t&&"object"==typeof t},isString:function(t){return null!==t&&"string"==typeof t},uniqueNum:1e3,buildUniqueId:function(){var t=(new Date).getTime().toString(),e=this.uniqueNum.toString();return this.uniqueNum++,t+e}}),o={_parseDepends:function(t){var e=[];if(i.isArray(t))return n.call(t,(function(t){i.isString(t)&&e.push(o[t.toLowerCase()])})),e}},a=function(t,e,r){i.isFunction(r)&&(o[t.toLowerCase()]=r.apply(this,o._parseDepends(e)))},s=function(t,e){i.isFunction(e)&&e.apply(this,o._parseDepends(t))};return a("BaseUtils",[],(function(){return i})),a("logger",[],(function(){return console})),a("DateTimeUtils",["logger"],(function(t){return{printNowTime:function(){new Date},pattern:function(t,e){var r={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+{0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"}[t.getDay()+""])),r)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return e},getCurrentId:function(){return(new Date).getTime()},getNowBetweenADay:function(e,r,n){if(n||(n="day"),"number"==typeof e&&(e=new Date(e)),!(e instanceof Date))throw new TypeError("The parameter type must be Date");var i=e.getTime(),o=new Date,a=o.getTime();a-i<0&&t.warn("The time to be calculated must be before the current time");var s=0;switch(n){default:case"day":s=(a-i)/864e5;break;case"month":var c=o.getFullYear()-e.getFullYear();c>0&&(s+=12*c),s+=o.getMonth()-e.getMonth();break;case"year":s+=o.getFullYear()-e.getFullYear()}return r?(0===s&&r&&(s=1),Math.ceil(s)):Math.floor(s)}}})),a("ArrayUtils",["BaseUtils"],(function(e){return{isArrayObject:function(t){return e.isArray(t)},ergodicArrayObject:function(r,n,i){if(r||(r=t),e.isArray(n)&&e.isFunction(i))for(var o=0;o<n.length;o++){var a=i.call(r,n[o],o);if(a&&-1===a)break}},getPropertyDo:function(t,e,r,n,i){null===i&&(i=!0),this.ergodicArrayObject(t,e,(function(e){i&&!e.hasOwnProperty(r)||n.call(t,e[r],e)}))},parseKeyValue:function(t){var r={};return e.isArray(t)?(this.ergodicArrayObject(this,t,(function(t){null!==t.key&&(r.hasOwnProperty(t.key)||(r[t.key]=t.value))})),r):r},getHashCode:function(t){var e=t.toString(),r=31;if(0===e.length)return r;for(var n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r&=r;return r},parseArrayByProperty:function(t,e){var r=[];return this.isArrayObject(t)?(this.getPropertyDo(this,t,e,(function(t){r.push(t)}),!0),r):r},isContainsObject:function(r,n,i){var o=!1;return this.ergodicArrayObject(this,r,(function(r,a){if(n===r)return o=!0,e.isFunction(i)&&i.call(t,a),-1})),o},getMaxInArray:function(t,r){for(var n=null,i=-1;null===n&&i<t.length;)n=t[++i];for(var o=i+1;o<t.length;o++)if(null!==n&&this.isArrayObject(n)&&this.isArrayObject(t[o])){for(var a=n.length,s=0;n[s]===t[o][s]&&s<a;)s++;null!==n[s]&&n[s]<t[o][s]&&(n=t[o],i=o)}else null!==n&&n<t[o]&&(n=t[o],i=o);return e.isFunction(r)&&r.call(this,n,i),n},getSumInArray:function(r,n){if(this.isArrayObject(r)){var i=0,o=0;return this.ergodicArrayObject(this,r,(function(t){"number"!=typeof t||Number.isNaN(t)||(i+=t,o+=1)})),e.isFunction(n)&&n.call(t,i,o),i}},getAverageInArray:function(t){var e=0;return this.getSumInArray(t,(function(t,r){0===r||(e=t/r)})),e},sortingArrays:function(t,r,n){if(this.isArrayObject(t)){var i=t.slice(0),o=null;switch(n&&n.getComparedProperty&&e.isFunction(n.getComparedProperty)&&(i=n.getComparedProperty(t)),r){default:case 0:o=i.push;break;case 1:o=i.unshift}for(var a=[],s=0;s<i.length;s++)this.getMaxInArray(i,(function(e,r){delete i[r],o.call(a,t[r])}));return n&&n.createNewData?a.slice(0):a}},toArray:function(t){if(!t||0===t.length)return[];if(!t.length)return t;try{return[].slice.call(t)}catch(i){for(var e=0,r=t.length,n=[];e<r;e++)n.push(t[e]);return n}},isArrayLick:function(t){return!!(t&&"object"==typeof t&&isFinite(t.length)&&t.length>=0&&t.length===Math.floor(t.length)&&t.length<4294967296)},contains:function(t,e){var r=!1;return this.ergodicArrayObject(this,t,(function(t){if(t===e)return r=!0,-1})),r}}})),a("ObjectUtils",["ArrayUtils","BaseUtils"],(function(e,r){return{readLinkProperty:function(n,i,o){var a=null;if(r.isFunction(o)&&(a=o),"string"==typeof i){if(""===(i=i.replace(/ /g,"")))return null;if(-1!==i.indexOf(",")){var s=i.split(",");return this.readLinkProperty(n,s,a)}if(-1!==i.indexOf(".")){var c=i.split("."),u=n,l=null;return e.ergodicArrayObject(this,c,(function(e,r){if(u=this.readLinkProperty(u,e),c[c.length-1]===e&&c.length-1===r&&(l=u,a&&a.call(t,l,i)),void 0===u)return-1})),l}var h=null;if("()"===i.slice(i.length-2)){var f=i.slice(0,i.length-2);h=n[f]()}else h=n[i];return a&&a.call(t,h,i),h}if(r.isArray(i)){var p=[];return e.ergodicArrayObject(this,i,(function(e){var r=this.readLinkProperty(n,e);if(p.push(r),a&&""!==e)return a.call(t,r,e)})),p.isMultipleResults=!0,p}},createLinkProperty:function(t,n,i){if(null===t&&(t={}),"string"==typeof n){if(""===(n=n.replace(/ /g,"")))throw new TypeError("property name of object should not be null");if(-1!==n.indexOf(",")){var o=n.split(",");return this.createLinkProperty(t,o,i),t}if(-1!==n.indexOf(".")){var a=n.split(".");t.hasOwnProperty(a[0])||(t[a[0]]={}),Number.isNaN(parseInt(a[0]))||e.isArrayObject(t)||(t=[]);var s=t[a[0]],c=a.slice(1,a.length),u="";return e.ergodicArrayObject(this,c,(function(t,e){e<c.length-1?u=u+t+".":u+=t})),t[a[0]]=this.createLinkProperty(s,u,i),t}return Number.isNaN(parseInt(n))||e.isArrayObject(t)||(t=[]),t[n]=i,t}if(r.isArray(n))return e.ergodicArrayObject(this,n,(function(e){t=this.createLinkProperty(t,e,i)})),t},ergodicObject:function(t,r,n,i){var o=Object.keys(r);e.ergodicArrayObject(this,o,(function(e){var o=e;if(!i||null===r[e]||"object"!=typeof r[e])return n.call(t,r[e],e);this.ergodicObject(this,r[e],(function(e,r){return n.call(t,e,o+"."+r)}),!0)}))},whileEmptyObjectProperty:function(n,i,o,a){if("string"==typeof o){if(""===(o=o.replace(/ /g,"")))return;if(-1!==o.indexOf(",")){var s=o.split(",");return this.whileEmptyObjectProperty(n,i,s,a)}if(-1!==o.indexOf(".")){var c=o.split("."),u=i,l=null;return e.ergodicArrayObject(this,c,(function(e){if(!u||!u.hasOwnProperty(e))return l=a.call(t,o),-1;u=u[e]})),l}if(!i.hasOwnProperty(o))return a.call(n,o);if(null===i[o]||""===i[o])return a.call(n,o)}else if(r.isArray(o)){var h=this;e.ergodicArrayObject(this,o,(function(t){return h.whileEmptyObjectProperty(n,i,t,a)}))}},whileEmptyObjectPropertyV2:function(t,e,r,n){this.readLinkProperty(e,r,(function(e,r){if(null===e||""===e||parseInt(e)<0)return n.call(t,r)}))},cloneObject:function(t){var n={};if("string"==typeof t||"number"==typeof t||void 0===t||"function"==typeof t||"boolean"==typeof t)return t;if(r.isArray(t))n=[],e.ergodicArrayObject(this,t,(function(t){n.push(this.cloneObject(t))}));else if("object"==typeof t){if(null===t)return null;this.ergodicObject(this,t,(function(t,e){n[e]=this.cloneObject(t)}))}return n},getObjHashCode:function(t){var e,r,n=JSON.stringify(t),i=0;if(0===n.length)return i;for(e=0,r=n.length;e<r;e++)i=(i<<5)-i+n.charCodeAt(e),i|=0;return i},expandObject:function(t,e,r,n){var i=t;return n&&(i=this.cloneObject(t)),this.ergodicObject(this,e,(function(t,e){r&&null!==this.readLinkProperty(i,e)||(i=this.createLinkProperty(i,e,t))}),!0),i},sortingArrayByProperty:function(t,r,n){var i=this,o={createNewData:!1,getComparedProperty:function(t){var n=[];return e.ergodicArrayObject(i,t,(function(t,e){if("object"!=typeof t)n.push(t);else{var i=this.readLinkProperty(t,r);null!==i?n.push(i):n.push(t)}})),n.slice(0)}};return e.sortingArrays(t,n,o)},toAimObject:function(t,n,i){if(r.isArray(t)){var o=[];return e.ergodicArrayObject(this,t,(function(t){o.push(this.toAimObject(t,n,i))})),o}if("object"==typeof t){if(i&&this.ergodicObject(this,i,(function(e,r){null===t[r]&&(t[r]=e)})),t instanceof n)return t;for(var a=t;null!==a.__proto__&&a.__proto__!==Object.prototype;)a=a.__proto__;return a.__proto__=n.prototype,a}},parseTheSameObjectPropertyInArray:function(t,n){var i={},o={};return e.ergodicArrayObject(this,t,(function(t){this.readLinkProperty(t,n,(function(t,e){o.hasOwnProperty(e)&&r.isArray(o[e])||(o[e]=[]),o[e].push(t)}))})),this.ergodicObject(this,o,(function(t,e){i=this.createLinkProperty(i,e,t)})),this.cloneObject(i)},parseTheSameObjectAllPropertyInArray:function(t){if(e.isArrayObject(t)&&!(t.length<1)){var r=[];return this.ergodicObject(this,t[0],(function(t,e){r.push(e)}),!0),this.parseTheSameObjectPropertyInArray(t,r)}},getCalculationInArrayByLinkPropertyNames:function(t,r,n){var i={},o=this;switch(n){default:case"sum":this.readLinkProperty(t,r,(function(t,r){e.isArrayObject(t)&&(i=o.createLinkProperty(i,r,e.getSumInArray(t)))}));break;case"average":this.readLinkProperty(t,r,(function(t,r){e.isArrayObject(t)&&(i=o.createLinkProperty(i,r,e.getAverageInArray(t)))}))}return i}}})),a("ColorUtils",[],(function(){return{rgbToHex:function(t,e,r){var n=(t<<16|e<<8|r).toString(16);return"#"+new Array(Math.abs(n.length-7)).join("0")+n},hexToRgb:function(t){var e=[];switch((t=t.replace(/ /g,"")).length){case 4:return e.push(parseInt(t[1]+t[1],16)),e.push(parseInt(t[2]+t[2],16)),e.push(parseInt(t[3]+t[3],16)),e;case 7:for(var r=1;r<7;r+=2)e.push(parseInt("0x"+t.slice(r,r+2)));return e}},gradientColorsPercentage:function(t,e,r){var n=[],i=this.hexToRgb(t);if(null==e)return t;var o=this.hexToRgb(e),a=o[0]-i[0],s=o[1]-i[1],c=o[2]-i[2];return n.push(i[0]+a*r),n.push(i[1]+s*r),n.push(i[2]+c*r),this.rgbToHex(n[0],n[1],n[2])}}})),a("FunctionUtils",[],(function(){return{getFunctionName:function(t){if("function"==typeof t||"object"==typeof t)var e=(""+t).match(/function\s*([\w\$]*)\s*\(/);return t.name||e[1]},getFunctionParams:function(t){if("function"==typeof t||"object"==typeof t)return(""+t).match(/function.*\(([^)]*)\)/)[1].replace(/( )|(\n)/g,"").split(",")},getCallerName:function(t){var e=t.callee.caller,r="";return e&&(r=this.getFunctionName(e)),r},FunctionBuilder:function(t){var e=this,n=[];n.push(t),r.call(["push","unshift","slice","map","forEach","keys","find","concat","fill","shift","values"],(function(t){"function"==typeof Array.prototype[t]&&Object.defineProperty(e,t,{get:function(){return function(){return n[t].apply(n,arguments),this}}})})),this.result=function(t){var e=[];return r.call(n,(function(t,r){"function"==typeof t&&e.push(t)})),function(){var n={arguments:arguments,this:this};return r.call(e,(function(e){var i=e.apply(t||this,[n]);i&&r.call(Object.keys(i),(function(t){n[t]=i[t]}))})),n.returnValue}}},invokeMethods:function(t,e,r){if(this.isArray(e)){var n=[],i=this;return this.ergodicArrayObject(t,e,(function(e){i.isFunction(e)&&n.push(e.apply(t,r))})),n}}}})),a("UrlUtils",[],(function(){return{urlMatching:function(t,e){return new RegExp(e).test(t)},getUrlWithoutParam:function(t){return t.split("?")[0]},getParamFromUrl:function(t){var e=[],r=t.split("?");if(r.length<2)return e;for(var n=r[1].split("&"),i=0;i<n.length;i++){var o=n[i].indexOf("="),a=new Array(2);-1!==o?a=[n[i].substring(0,o),n[i].substring(o+1)]:a[0]=n[i],e.push({key:a[0],value:a[1]})}return e},margeUrlAndParams:function(t,e){if(-1!==t.indexOf("?")||!(e instanceof Array))return t;for(var r=[],n=0;n<e.length;n++)null!==e[n].key&&null!==e[n].value&&r.push(e[n].key+"="+e[n].value);return t+"?"+r.join("&")}}})),a("PointUtils",[],(function(){var t=function(t,e){this.x=t||0,this.y=e||0};return t.prototype={constructor:t,getOtherPointFromDistanceAndDeg:function(t,e){var r=Math.PI/180*e,n=new this.constructor;return n.x=t*Math.sin(r)+this.x,n.y=this.y-t*Math.cos(r),n},getDistanceFromAnotherPoint:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},getDegFromAnotherPoint:function(e){var r=new t(1e6*e.x-1e6*this.x,1e6*e.y-1e6*this.y);return 180-180*Math.atan2(1e6*r.x,1e6*r.y)/Math.PI},isInRect:function(t,e,r,n){var i=this.x,o=this.y;return!(i<t||i>t+r||o<e||o>e+n)}},{Point2D:t}})),a("PropExpand",["BaseUtils","ObjectUtils","ArrayUtils","UrlUtils"],(function(t,e,r,n){return{Object:{getProperty:function(t,r){return e.readLinkProperty(t,r)},setProperty:function(t,r,n){e.createLinkProperty(t,r,n)},mapConvert:function(t,e){},keyMap:function(t,e){},keyValues:function(t,e){},keyFilter:function(t,e){}},Array:{map:function(){},forEach:function(){},filter:function(){},reduce:function(){},keep:function(){},remove:function(){}},String:{join:function(t,e){}}}})),t.everyUtils=function(){if(i.isArray(arguments[0]))s.call(arguments[2]||this,arguments[0],arguments[1]);else if(i.isFunction(arguments[0])){var t=arguments;s.call(arguments[1]||this,["FunctionUtils"],(function(e){var r=e.getFunctionParams(t[0]);s(r,t[0])}))}},t.eUtils=function(){var e={};t.everyUtils&&t.everyUtils(["ArrayUtils","ObjectUtils","BaseUtils","FunctionUtils","ColorUtils","PointUtils","UrlUtils"],(function(t,r,n,i,o,a,s){e={ArrayUtils:t,ObjectUtils:r,BaseUtils:n,ColorUtils:o,UrlUtils:s,urlUtils:s,PointUtils:a,FunctionUtils:i}}));var r={};return n.call(Object.keys(e),(function(t){t&&(Object.defineProperty(r,t,{get:function(){return e[t]}}),n.call(Object.keys(e[t]),(function(n){n&&(r[n]||Object.defineProperty(r,n,{get:function(){return e[t][n]}}))})))})),r}(),t.eUtils}))}],e={},function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}(0);var t,e})),window.isDOMLoaded=!1,window.isDOMRendered=!1,document.addEventListener("readystatechange",(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(window.isDOMLoaded=!0)})),window.videoTimeHook_=function(t){var e=[],r=[],n={isInIframe:function(){let e=t.parent!==t;try{e=e&&"FRAMESET"!==t.parent.document.body.tagName}catch(t){}return e},listenParentEvent:function(e){t.addEventListener("message",(function(t){var r=t.data;"changePercentage"===(r.type||"")&&e(r.percentage||0)}))},sentChangesToIframe:function(t){var e=document.querySelectorAll("iframe")||[],r=document.querySelectorAll("frame");if(e.length)for(var n=0;n<e.length;n++)e[n].contentWindow.postMessage({type:"changePercentage",percentage:t},"*");if(r.length)for(var i=0;i<r.length;i++)r[i].contentWindow.postMessage({type:"changePercentage",percentage:t},"*")}},i=function(t,e,n){var o=t.querySelectorAll(e);return o=Array.prototype.slice.call(o||[]),n&&r.forEach((function(t){o=o.concat(i(t,e,!1))})),o};t.eHook&&t.eHook.plugins({name:"timer",mount:function(o){e.forEach((function(t){o.urlMatching(location.href,"http.*://.*"+t+".*")&&(window.Worker=void 0)}));var a=this,s={_intervalIds:{},_timeoutIds:{},_auoUniqueId:1,__percentage:1,_setInterval:window.setInterval,_clearInterval:window.clearInterval,_clearTimeout:window.clearTimeout,_setTimeout:window.setTimeout,_Date:window.Date,__lastDatetime:(new Date).getTime(),__lastMDatetime:(new Date).getTime(),videoSpeedInterval:1e3,genUniqueId:function(){return this._auoUniqueId++},notifyExec:function(t){var e=this;t&&Object.values(this._timeoutIds).filter((function(e){return e.uniqueId===t})).forEach((function(t){e._clearTimeout.call(window,t.nowId),delete e._timeoutIds[t.originId]}))},init:function(){var e=this,i=function(e,n,i){return{applyUI:function(){},applyGlobalAction:function(e){e.changeTime=function(r,i,o,a){if(a)t.timer.change(1);else if(t.timer){var s;if(r||i)if(o&&r){if(1/n._percentage<=1&&r<0)return;s=1/(1/n._percentage+r)}else i<=0&&(i=1/-i),s=1/(1/n._percentage*i);else{var c=prompt("Please input times of the playback speed(now:"+1/n._percentage+")");if(null==c)return;if(isNaN(parseFloat(c)))return alert("Please enter the correct number"),void e.changeTime();if(parseFloat(c)<=0)return alert("Cannot be less than or equal to 0"),void e.changeTime();s=1/parseFloat(c)}e.change(s)}},t.changeTime=e.changeTime},applyHooking:function(){var t=this;e.hookReplace(window,"setInterval",(function(e){return t.getHookedTimerFunction("interval",e)})),e.hookReplace(window,"setTimeout",(function(e){return t.getHookedTimerFunction("timeout",e)})),e.hookBefore(window,"clearInterval",(function(e,r){t.redirectNewestId(r)})),e.hookBefore(window,"clearTimeout",(function(e,r){t.redirectNewestId(r)}));var r=this.getHookedDateConstructor();e.hookClass(window,"Date",r,"_innerDate",["now"]),Date.now=function(){return(new Date).getTime()},e.hookedToString(n._Date.now,Date.now);var i=Object.prototype.toString;Object.prototype.toString=function(){"use strict";return this instanceof n._mDate?"[object Date]":i.call(this)},e.hookedToString(i,Object.prototype.toString),e.hookedToString(n._setInterval,setInterval),e.hookedToString(n._setTimeout,setTimeout),e.hookedToString(n._clearInterval,clearInterval),n._mDate=window.Date,this.hookShadowRoot()},getHookedDateConstructor:function(){return function(){if(1!==arguments.length)if(arguments.length>1){var t;switch(arguments.length){case 2:t=new n._Date(arguments[0],arguments[1]);break;case 3:t=new n._Date(arguments[0],arguments[1],arguments[2]);break;case 4:t=new n._Date(arguments[0],arguments[1],arguments[2],arguments[3]);break;case 5:t=new n._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);break;case 6:t=new n._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);break;default:t=new n._Date(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:t,writable:!1})}else{var e=(n._Date.now()-n.__lastDatetime)*(1/n._percentage);Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:new n._Date(n.__lastMDatetime+e),writable:!1})}else Object.defineProperty(this,"_innerDate",{configurable:!1,enumerable:!1,value:new n._Date(arguments[0]),writable:!1})}},getHookedTimerFunction:function(t,e){var r="_"+t+"Ids";return function(){var t=n.genUniqueId(),i=arguments[0];"string"==typeof i&&(arguments[0]=i+=";timer.notifyExec("+t+")"),"function"==typeof i&&(arguments[0]=function(){var e=i.apply(this,arguments);return n.notifyExec(t),e});var o=arguments[1];arguments[1]*=n._percentage;var a=e.apply(window,arguments);return n[r][a]={args:arguments,originMS:o,originId:a,nowId:a,uniqueId:t,oldPercentage:n._percentage,exceptNextFireTime:n._Date.now()+o},a}},redirectNewestId:function(t){var e=t[0];n._intervalIds[e]&&(t[0]=n._intervalIds[e].nowId,delete n._intervalIds[e]),n._timeoutIds[e]&&(t[0]=n._timeoutIds[e].nowId,delete n._timeoutIds[e])},registerShortcutKeys:function(t){addEventListener("keydown",(function(e){switch(e.keyCode){case 190:e.ctrlKey&&t.changeTime(2,0,!0);break;case 188:e.ctrlKey&&t.changeTime(-2,0,!0);break;case 48:(e.ctrlKey||e.altKey)&&t.changeTime(0,0,!1,!0)}}))},percentageChangeHandler:function(t){i.ergodicObject(n,n._intervalIds,(function(e,r){e.args[1]=Math.floor((e.originMS||1)*t),this._clearInterval.call(window,e.nowId),e.nowId=this._setInterval.apply(window,e.args)})),i.ergodicObject(n,n._timeoutIds,(function(e,r){var n=this._Date.now(),i=e.exceptNextFireTime,o=e.oldPercentage,a=i-n;a<0&&(a=0);var s=Math.floor(t/o*a);e.args[1]=s,e.exceptNextFireTime=n+s,e.oldPercentage=t,this._clearTimeout.call(window,e.nowId),e.nowId=this._setTimeout.apply(window,e.args)}))},hookShadowRoot:function(){var t=Element.prototype.attachShadow;e.hookAfter(Element.prototype,"attachShadow",(function(t,e,n){return r.push(n),n}),!1),e.hookedToString(t,Element.prototype.attachShadow)}}}(a,e,o);i.applyHooking(),Object.defineProperty(e,"_percentage",{get:function(){return e.__percentage},set:function(t){return t===e.__percentage||(i.percentageChangeHandler(t),e.__percentage=t),t}}),n.isInIframe()?n.listenParentEvent(function(t){this.change(t)}.bind(this)):(i.applyUI(),i.applyGlobalAction(e),i.registerShortcutKeys(e))},change:function(t){var e=this;this.__lastMDatetime=this._mDate.now(),this.__lastDatetime=this._Date.now(),this._percentage=t;var r=document.getElementsByClassName("_th-click-hover"),i=document.getElementsByClassName("_th_times"),o=(1/this._percentage).toFixed(2);(r[0]||{}).innerHTML="x"+o,(i[0]||{}).innerHTML="x"+o;var a=document.getElementsByClassName("_th_cover-all-show-times")[0]||{};a.className="_th_cover-all-show-times",this._setTimeout.bind(window)((function(){a.className="_th_cover-all-show-times _th_hidden"}),100),this.changeVideoSpeed(),this._clearInterval.bind(window)(this.videoSpeedIntervalId),this.videoSpeedIntervalId=this._setInterval.bind(window)((function(){e.changeVideoSpeed(),1==1/e._percentage&&e._clearInterval.bind(window)(e.videoSpeedIntervalId)}),this.videoSpeedInterval),n.sentChangesToIframe(t)},changeVideoSpeed:function(){var t=1/this._percentage;t>16&&(t=16),t<.065&&(t=.065);var e=i(document,"video",!0)||[];if(e.length)for(var r=0;r<e.length;r++)e[r].playbackRate=t}};return s.init(),s}})};