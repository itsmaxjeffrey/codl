(()=>{"use strict";var e={793:(e,t,r)=>{function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}r.d(t,{Z:()=>a})},649:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(217);function n(e,t,r){return(t=(0,a.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},809:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(13);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,i,o,s=[],c=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(a=i.call(r)).done)&&(s.push(a.value),s.length!==t);c=!0);}catch(e){l=!0,n=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw n}}return s}}(e,t)||(0,a.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},217:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(940);function n(e){var t=function(e,t){if("object"!==(0,a.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==(0,a.Z)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,a.Z)(t)?t:String(t)}},940:(e,t,r)=>{function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}r.d(t,{Z:()=>a})},13:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(793);function n(e,t){if(e){if("string"==typeof e)return(0,a.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,a.Z)(e,t):void 0}}}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(809),t=r(649);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?a(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var i={initSyncComplete:!1,initLocalComplete:!1};if(i.blackList=new Set,i.requestHeaders=new Map,i.customFoundUrls=new Map,chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){e[0]&&e[0].id?i.tabId=e[0].id:i.tabId=-1})),i.OptionLists={Ext:[{ext:"flv",size:0,state:!0},{ext:"hlv",size:0,state:!0},{ext:"f4v",size:0,state:!0},{ext:"mp4",size:0,state:!0},{ext:"mp3",size:0,state:!0},{ext:"wma",size:0,state:!0},{ext:"wav",size:0,state:!0},{ext:"m4a",size:0,state:!0},{ext:"letv",size:0,state:!0},{ext:"ts",size:0,state:!1},{ext:"webm",size:0,state:!0},{ext:"ogg",size:0,state:!0},{ext:"ogv",size:0,state:!0},{ext:"acc",size:0,state:!0},{ext:"mov",size:0,state:!0},{ext:"mkv",size:0,state:!0},{ext:"m4s",size:0,state:!1},{ext:"m3u8",size:0,state:!0},{ext:"m3u",size:0,state:!0},{ext:"mpeg",size:0,state:!0},{ext:"avi",size:0,state:!0},{ext:"wmv",size:0,state:!0},{ext:"asf",size:0,state:!0},{ext:"movie",size:0,state:!0},{ext:"divx",size:0,state:!0},{ext:"mpeg4",size:0,state:!0},{ext:"vid",size:0,state:!0},{ext:"aac",size:0,state:!0},{ext:"mpd",size:0,state:!0}],Type:[{type:"audio/*",size:0,state:!0},{type:"video/*",size:0,state:!0},{type:"application/ogg",size:0,state:!0},{type:"application/vnd.apple.mpegurl",size:0,state:!0},{type:"application/x-mpegurl",size:0,state:!0},{type:"application/mpegurl",size:0,state:!0},{type:"application/octet-stream-m3u8",size:0,state:!0},{type:"application/dash+xml",size:0,state:!0},{type:"application/m4s",size:0,state:!0}],Regex:[{type:"ig",regex:"https://cache\\.video\\.[a-z]*\\.com/dash\\?tvid=.*",ext:"json",state:!1},{type:"ig",regex:".*\\.bilivideo\\.(com|cn).*\\/live-bvc\\/.*m4s",ext:"",blackList:!0,state:!1}],TitleName:!0,Player:"",MobileUserAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_2_3 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.0.3 Mobile/15E148 Safari/604.1",playbackRate:2,autoClearMode:2,userAgent:"",checkDuplicates:!0,enable:!0,BlockedDomains:null,popListCount:30,ShowCountOnIcon:!0},i.LocalVar={featMobileTabId:[],mediaControl:{tabid:0,index:-1}},i.isFirefox=!1,i.version=93,navigator.userAgent.includes("Chrome/")){var o=navigator.userAgent.match(/Chrome\/([\d]+)/);o&&o[1]&&(i.version=parseInt(o[1]))}else navigator.userAgent.includes("Firefox/")&&(i.isFirefox=!0);i.scriptList=new Map,i.scriptList.set("deepsearch.js",{key:"deepsearch",refresh:!0,allFrames:!0,world:"MAIN",name:"DeepSearch",off:"Close Search",tabId:new Set}),i.scriptList.set("screenrecorder.js",{key:"screenrecorder",refresh:!1,allFrames:!1,world:"ISOLATED",name:"ScreenRecorder",off:"Close Screen Recorder",tabId:new Set}),i.scriptList.set("webrtc.js",{key:"webrtc",refresh:!0,allFrames:!0,world:"MAIN",name:"Webrtc",off:"Close Webrtc",tabId:new Set});function s(){chrome.storage.local.get({MediaData:{}},(function(e){e.MediaData.init?{}:e.MediaData})),chrome.storage.sync.get(i.OptionLists,(function(e){chrome.runtime.lastError&&(e=i.OptionLists),e.Ext=new Map(e.Ext.map((function(e){return[e.ext,e]}))),e.Type=new Map(e.Type.map((function(e){return[e.type,{size:e.size,state:e.state}]}))),e.Regex=e.Regex.map((function(e){var t=void 0;try{t=new RegExp(e.regex,e.type)}catch(t){e.state=!1}return{regex:t,ext:e.ext,blackList:e.blackList,state:e.state}})),(i=n({},e,{},i)).popListCount||(i.popListCount=30),i.TitleName||(i.TitleName=!0),i.ShowCountOnIcon||(i.ShowCountOnIcon=!0);var t={path:i.enable?"assets/icons/64x64.png":"assets/icons/64x64_gray.png"};i.isFirefox?browser.browserAction&&browser.browserAction.setIcon(t):chrome.action&&chrome.action.setIcon(t),i.initSyncComplete=!0})),chrome.storage.local.get(i.LocalVar,(function(e){e.featMobileTabId=new Set(e.featMobileTabId),(i=n({},e,{},i)).initLocalComplete=!0}))}s(),chrome.storage.onChanged.addListener((function(t,r){var a;if(t.MediaData)null!==(a=t.MediaData.newValue)&&void 0!==a&&a.init&&{};else for(var n=0,o=Object.entries(t);n<o.length;n++){var s=(0,e.Z)(o[n],2),c=s[0],l=s[1],p=(l.oldValue,l.newValue);p??=i.OptionLists[c],"Ext"!=c?"Type"!=c?"Regex"!=c?i[c]="featMobileTabId"!=c?p:new Set(p):i.Regex=p.map((function(e){var t=void 0;try{t=new RegExp(e.regex,e.type)}catch(t){e.state=!1}return{regex:t,ext:e.ext,blackList:e.blackList,state:e.state}})):i.Type=new Map(p.map((function(e){return[e.type,{size:e.size,state:e.state}]}))):i.Ext=new Map(p.map((function(e){return[e.ext,e]})))}})),chrome.runtime.onInstalled&&chrome.runtime.onInstalled.addListener((function(e){"update"==e.reason&&(chrome.storage.local.clear((function(){s()})),chrome.alarms.create("nowClear",{when:Date.now()+3e3}))}))})()})();